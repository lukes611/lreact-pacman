{"version":3,"sources":["l_react.ts","pacman/game.ts","pacman/index.ts","index.ts"],"names":[],"mappings":"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","file":"index.js","sourceRoot":"..","sourcesContent":["export class VElem {\n    type: string;\n    props: { [k: string]: any };\n    children: VElem[];\n    isTextNode: boolean;\n    value?: string;\n    _name?: string;\n    _parent?: VElem;\n    _elem?: HTMLElement | Text;\n    _dom?: HTMLElement;\n    isRoot: boolean = false;\n    componentDidMount?: () => void;\n    componentDidUnmount?: () => void;\n\n    constructor(type: string, props: object = {}, children: VElem[] = [], value?: string) {\n        this.type = type;\n        this.props = props;\n        this.children = children;\n        this.isTextNode = this.type === 'text-node';\n        this.value = value;\n    }\n\n    toString() {\n        if (this.isTextNode) {\n            return this.value.toString();\n        }\n        const { props, type, children } = this;\n        return `<${type} props=\"${JSON.stringify(props)}\">\n                        ${children.map(c => c.toString()).join('\\n')}\n                </${type}>\n        `;\n    }\n\n    getElem(): { type: 'text', e: Text } | { type: 'elem', e: HTMLElement } | undefined {\n        if (!this._elem) return undefined;\n        if (this.isTextNode) return { type: 'text', e: this._elem as Text };\n        return { type: 'elem', e: this._elem as HTMLElement };\n    }\n\n}\n\nexport function Text(v: string) {\n    return new VElem('text-node', {}, [], v);\n}\n\nexport abstract class Component<Props extends object, State extends object> {\n    props: Props;\n    state?: State;\n\n    _vnode?: VElem;\n    paint?: (x: Component<Props, State>) => void;\n    componentDidMount?: () => void;\n    componentDidUnmount?: () => void;\n\n    constructor(props: Props) {\n        this.props = props;\n    }\n\n    setState(s: Partial<State>) {\n        if (this.state) {\n            this.state = {\n                ...this.state,\n                ...s,\n            };\n            this.paint?.(this);\n        }\n    }\n\n    abstract render(): VElem;\n}\n\n(Component.prototype as unknown as any).__isComponent = true;\n\ntype ComponentConstructor<P extends object, S extends object> = new(p: P) => Component<P, S>;\n\ntype ComponentType<P extends object, S extends object> =\n    | string // eg. div, img, href\n    | ComponentConstructor<P, S>\n    | ((props: P | undefined) => VElem);\n\nfunction createVElement<P extends object, S extends object>(node: ComponentType<P, S>, props: P, children?: VElem[]) {\n    const asAny = node as unknown as any;\n    if (asAny.prototype && asAny.prototype.__isComponent) {\n        const C = node as ComponentConstructor<P, S>;\n        const c: Component<P, S> = new C({\n            ...props,\n            children,\n        });\n        c.paint = x => repaint(x);\n        c._vnode = c.render();\n        c._vnode._name = c.constructor.name\n        if (c.componentDidMount) {\n            c._vnode.componentDidMount = () => c.componentDidMount();\n        }\n        if (c.componentDidUnmount) {\n            c._vnode.componentDidUnmount = () => c.componentDidUnmount();\n        }\n        return c._vnode;\n    } else if (typeof node === 'function') {\n        const F = node as (p: P) => VElem;\n       return F({\n           ...props,\n           children,\n       });\n    }\n    return new VElem(node, props, children);\n}\n\nfunction repaint<P extends object, S extends object>(c: Component<P, S>) {\n    const oldTree = c._vnode;\n    const newTree = c.render();\n    newTree.componentDidMount = oldTree.componentDidMount;\n    newTree.componentDidUnmount = oldTree.componentDidUnmount;\n    // console.log(oldTree.toString());\n    // console.log(newTree.toString());\n    const parent = oldTree?._parent;\n    \n    modifyTree(newTree, parent, oldTree);\n    c._vnode = newTree;\n    if (oldTree?.isRoot) {\n        const domParent = oldTree._dom;\n        domParent.replaceChild(newTree._elem, oldTree._elem);\n        newTree.isRoot = true;\n        newTree._dom = domParent;\n    }\n}\n\nexport function Node<P extends object, S extends object>(type: ComponentType<P, S>, props: P = {} as P, children: VElem[] = []) {\n    return createVElement(type, props, children);\n}\n\nexport function modifyTree(tree: VElem, parent?: VElem, prevTree?: VElem) {\n    const { props, children, type } = tree;\n    if (prevTree && prevTree.type === type && children.length === prevTree.children.length) {\n        // replace attributes\n        const pte = prevTree.getElem()!;\n        if(!objectsShallowEqual(props, prevTree.props) && pte.type === 'elem') assignProps(pte.e, props);\n        tree._elem = pte.e;\n        tree._parent = prevTree._parent;\n\n        if (tree.isTextNode && pte.type === 'text') {\n            pte.e.data = tree.toString();\n        } else {\n            loopThroughChildren(tree, prevTree, (c, pc, i) => {\n                modifyTree(c, tree, pc);\n            }, (pc, i) => {\n                prevTree._elem.removeChild(pc._elem);\n                prevTree.componentDidUnmount?.();\n            });\n        }\n    } else {\n        // replace this node and all children\n\n        const element = tree.isTextNode\n            ? document.createTextNode(tree.value)\n            : document.createElement(type);\n        tree._elem = element;\n        tree._parent = parent;\n        if (prevTree) {\n            prevTree._parent._elem.replaceChild(element, prevTree._elem);\n            prevTree.componentDidUnmount?.();\n        } else if (parent) {\n            parent._elem.appendChild(element);\n        }\n        tree.componentDidMount?.();\n        const te = tree.getElem();\n        if (te && te.type === 'elem')\n            assignProps(te.e, props);\n\n        if (props.ref) {\n            props.ref(tree._elem);\n        }\n\n        loopThroughChildren(tree, prevTree, (c, pc, i) => {\n            modifyTree(c, tree, undefined);\n        }, (pc, i) => {\n            prevTree._elem.removeChild(pc._elem);\n            prevTree.componentDidUnmount?.();\n        });\n\n    }\n}\n\ntype BothFn = (\n    child: VElem,\n    prevChild: VElem | undefined,\n    index: number,\n) => void;\n\ntype PrevFn = (\n    prevChild: VElem,\n    index: number,\n) => void;\n\nfunction loopThroughChildren(tree: VElem, prevTree: VElem | undefined, both: BothFn, prevOnly: PrevFn) {\n    const prevChildren = (prevTree ? prevTree.children : []) ?? [];\n    tree.children.forEach((c, i) => {\n        both(c, prevChildren[i], i);\n    });\n    if (!prevTree || tree.children.length > prevChildren.length) {\n        return;\n    }\n    for (let i = tree.children.length; i < prevChildren.length; i++) {\n        prevOnly(prevChildren[i], i);\n    }\n}\n\nfunction assignProps(element: HTMLElement, props: Record<string, any>) {\n    if (props.style) Object.assign(element.style, props.style);\n    if (props.onClick) element.onclick = (e) => props.onClick(e);\n    if (props.onChange) element.oninput = (e) => props.onChange(e);\n\n    const rawAttributes = new Set(['width', 'height', 'href', 'id', 'value']);\n    Object.keys(props).forEach(k => {\n        if (rawAttributes.has(k)) {\n            element[k] = props[k];\n        }\n    });\n}\n\nfunction objectsShallowEqual(obj1: Record<string, any>, obj2: Record<string, any>) {\n    const obj1Keys = Object.keys(obj1);\n    const obj2Keys = new Set(Object.keys(obj2));\n    if (obj1Keys.length !== obj2Keys.size) return false;\n    \n    for (const key of obj1Keys) {\n        if (!obj2Keys.has(key)) return false;\n        const v1 = obj1[key];\n        const v2 = obj2[key];\n        if (v1 !== v2) return false;\n    }\n    return true;\n}\n\nexport function Init(node: VElem, domParent: HTMLElement) {\n    node.isRoot = true;\n    modifyTree(node);\n    domParent.appendChild(node._elem);\n    node._dom = domParent;\n}\n","\nexport type Pt = { x: number, y: number };\n\nconst halfLevel1 = `# level 1\n+-------+---------   \n|       |        |   \n|       |        |   \n|       |        |   \n|       |        |   \n+-----------+----+---\n|       |   |        \n|       |   |        \n|       |   |        \n|       |   +---+    \n|       |       |    \n|       |       |    \n|       |       |    \n+-------+   +---+---+\n        |   |       |\n        |   |       |\n        |   |       |\n        |   |       |\n        |   |       |\nt---p-------+   ----+\n        |   |        \n        |   |        \n        |   |        \n        |   +--------\n        |   |        \n        |   |        \n+-----------+-------+\n|       |           |\n|       |           |\n|       |           |\n|       |           |\n+---+   +----+------+\n    |   |    |       \n    |   |    |       \n    |   |    |       \n+---+---+    +--+    \n|               |    \n|               |    \n|               |    \n+---------------+----\n`;\nexport const level1 = halfLevel1\n    .split('\\n')\n    .map(line => {\n        if (line.startsWith('#')) return line;\n        const secondHalf = line.substring(0, line.length - 1).split('').reverse().join('');\n        return line + secondHalf;\n    })\n    .join('\\n');\n\nexport class Level {\n    level: string[][];\n    w: number;\n    h: number;\n\n    constructor(levelString: string) {\n        this.level = levelString\n            .split('\\n')\n            .slice(1)\n            .map((s: string) => s.split(''));\n        this.w = this.level[0].length;\n        this.h = this.level.length;\n    }\n\n    static createLevel1() {\n        return new Level(level1);\n    }\n\n    isPath(r: number, c: number) {\n        const v = this.getV(r, c);\n        return v && v !== ' ';\n    }\n\n    getV(r: number, c: number): string | undefined {\n        const v = this.level[r][c];\n        return v;\n    }\n\n}\n","import * as LReact from '../l_react';\nimport { level1, Level, Pt } from './game';\nconst { Node, Text } = LReact;\n\nexport class Game extends LReact.Component<{}, {}> {\n    level: Level;\n\n    constructor(props: {}) {\n        super(props);\n        this.level = Level.createLevel1();\n    }\n    render() {\n        const N = 10;\n        return Node('div', {}, [\n            Text('pacman'),\n            Node('pre', {}, [\n                Text(level1),\n                Text('cool'),\n            ]),\n            Node(LevelGameContainer, {\n                N: 10,\n                w: this.level.w,\n                h: this.level.h,\n            }, [\n                Node(RenderedLevel, { level: this.level }),\n                Node(AnimatedGame, { level: this.level }, []),\n            ])\n        ]);\n    }\n}\n\nclass AnimatedGame extends LReact.Component<{ level: Level }, {}> {\n    ctx?: CanvasRenderingContext2D;\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { level } = this.props;\n        return Node('canvas', {\n            ref: this.canvasSet,\n            width: (level.w+1) * 10,\n            height: level.h * 10,\n            style: {\n                width: `${(level.w+1) * 10}px`,\n                height: `${level.h * 10}px`,\n                border: '1px dashed white',\n                position: 'absolute',\n                zIndex: 2,\n            },\n        });\n    }\n\n    canvasSet = (canvas: HTMLCanvasElement) => {\n        const ctx = canvas.getContext('2d');\n        this.ctx = ctx;\n\n        // ctx.fillStyle = 'yellow';\n        // ctx.arc(30, 30, 20, 0, Math.PI * 2 * 0.25);\n        // ctx.fill();\n        // ctx.closePath();\n\n        this.drawPacMan(90, { x: 100, y: 100 }, 0.05);\n    }\n\n    drawPacMan(angle: number, pos: Pt, mouthOpenPerc: number) {\n        const { ctx } = this;\n        if (!ctx) return;\n        const size = 6;\n        ctx.translate(pos.x, pos.y);\n        ctx.rotate(angle / (180 / Math.PI));\n        const bx = mouthOpenPerc * Math.PI * 2;\n        ctx.fillStyle = 'yellow';\n        ctx.beginPath();\n        ctx.arc(0, 0, size, bx, bx + Math.PI);\n        ctx.closePath();\n        ctx.fill();\n        ctx.beginPath();\n        ctx.arc(0, 0, size, Math.PI * 2 - bx - Math.PI, Math.PI * 2 - bx);\n        ctx.closePath();\n        ctx.fill();\n        ctx.beginPath();\n        ctx.arc(0, 0, size, 0.25 * Math.PI * 2, 0.75 * Math.PI * 2);\n        ctx.closePath();\n        ctx.fill();\n        ctx.resetTransform();\n    }\n}\n\nconst LevelGameContainer = ({ w, h, N, children }: {\n    w: number,\n    h: number,\n    N: number,\n    children?: LReact.VElem[],\n}) => {\n    return Node('div', {\n        style: {\n            backgroundColor: 'lightblue',\n            padding: '16px',\n            // maxWidth: `${w * N * 0.55 + 32}px`,\n        },\n    }, [\n        Node('div', {\n            style: {\n                width: `${(w+1) * N}px`,\n                height: `${h * N}px`,\n                position: 'relative',\n                backgroundColor: 'green',\n            },\n        }, children),\n    ]);\n};\n\nfunction RenderedLevel({\n    level,\n}: {\n    level: Level,\n}) {\n    const N = 10;\n    let blocks = [];\n    for (let y = 0; y < level.h; y++) {\n        for (let x = 0; x < level.w; x++) {\n            if (level.isPath(y, x))\n            blocks.push(Node(Block, {\n                top: y * N,\n                left: x * N,\n                width: N,\n                height: N,\n                color: 'black',\n            }));\n        }\n    }\n    return Node('div', {}, [\n        ...blocks,\n    ]);\n}\n\nconst Block = ({\n    top,\n    left,\n    width,\n    height,\n    color = 'blue',\n}: {\n    color?: string,\n    top: number,\n    left: number,\n    width: number,\n    height?: number,\n}) => {\n    return Node('div', {\n        style: {\n            width: `${width}px`,\n            height: `${height ?? width}px`,\n            position: 'absolute',\n            top: `${top}px`,\n            left: `${left}px`,\n            backgroundColor: color,\n        },\n    });\n};\n","import * as LReact from './l_react';\nimport { Game } from './pacman/index';\n\nconsole.log('hi i am in game land 🍒', LReact);\n\nclass Peanut extends LReact.Component<{}, {}> {\n    render() {\n        return LReact.Node('div', {}, [\n            LReact.Text('wow - peanuts'),\n            LReact.Node(Game, {}, []),\n        ]);\n    }\n}\n\nfunction Cool() {\n    return LReact.Node('div', {}, [\n        LReact.Text('hello there, my name is luke'),\n        LReact.Node(Peanut),\n    ]);\n};\n\n\n\nLReact.Init(LReact.Node(Cool), document.body);\n"]}