{"version":3,"sources":["l_react.ts","pacman/pt.ts","pacman/game.ts","pacman/index.ts","index.ts"],"names":[],"mappings":";;;;;;ACAa,OAAA,CAAA,eAAA,GAAkB,MAAM,IAAI,CAAC,EAA7B;;AAEb,IAAA,EAAA;AAAA;AAAA,YAAA;AACI,WAAA,EAAA,CAAmB,CAAnB,EAAyC,CAAzC,EAAsD;AAAnC,QAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,CAAA,GAAA,CAAA;AAAa;;AAAS,QAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,CAAA,GAAA,CAAA;AAAa;;AAAnC,SAAA,CAAA,GAAA,CAAA;AAAsB,SAAA,CAAA,GAAA,CAAA;AACxC;ADJL,IAAA,KAAA;AAAA,ACMI,EAAA,EAAA,CAAA,SAAA,CAAA,IAAA,GAAA,YAAA;ADNJ,ACOQ,WAAO,CDPf,GCOmB,EAAJ,CAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,CAAP;ADOJ,ACNC,GAFD,QDQA,KAAA,CAAY,IAAZ,EAA0B,KAA1B,EAA8C,QAA9C,EAAsE,KAAtE,EAAoF;AAA1D,QAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA,ACJ1B,EAAA,EAAA,CAAA,CDI0B,KAAA,GAAA,ACJ1B,CAAA,CDI0B,OCJ1B,GAAA,YAAA;ADI4C,ACHxC,WAAO,MAAI,KAAK,CAAT,GAAU,IAAV,GAAe,KAAK,CAApB,GAAqB,GAA5B;AACH,GAFD;ADI8C,QAAA,QAAA,KAAA,KAAA,CAAA,EAAA;AAAA,ACA9C,EAAA,EAAA,CAAA,CDA8C,QAAA,ACA9C,CAAA,EDA8C,EAAA,CCA9C,GAAA,YAAA;ADAoE,AEdxE,ADeQ,ICfR,IAAA,GAAA,ADee,IAAI,EAAJ,CCff,ADesB,CCftB,GDe0B,CAAC,ECf3B,CAAA,EDesB,CAAW,KAAK,CAAhB,CAAP,EAA2B,IAAI,CAAC,KAAL,CAAW,KAAK,CAAhB,CAA3B,CAAP;AACH,GAFD;ADJA,AERJ,IAAM,KFQF,KERY,CFQZ,EERe,CFQG,KAAlB,+5BERJ;AFaQ,AE6BK,AD1BT,EAAA,EAAA,CAAA,EC0BS,CAAA,CF7BA,IAAL,CE6BK,AD1BT,CAAA,CDHgB,CE6BE,ED1BlB,CDHI,ECGJ,KC0B4B,CAC3B,KADiB,CACX,AD3BP,IC0BkB,EAEjB,GAFiB,CAEb,UAAA,IAAA,EAAI;AF9BL,AE+BA,AD5BA,MC4BI,GF/BC,CE+BG,CAAC,AD5BF,GDHP,CCGW,EDHE,ACGN,CAAO,GC4BV,CF/BJ,AE+BoB,AD5BF,CAAC,EC4Bf,CAAJ,CD5Bc,CC4BY,AD5BF,KAAK,CAAf,CC4BmB,AD5B1B,EAA0B,EC4BP,ED5BW,CAAC,IAAL,CAAU,KAAK,CAAf,CAA1B,CAAP;ADFA,AE+BA,AD5BH,GAFD,GC8BU,GF/BD,OE+BW,CF/BhB,EE+BmB,CF/BH,GE+BO,CAClB,IFhCL,KE+BmB,CACJ,CADI,EACD,IAAI,CAAC,MAAL,GAAc,CADb,EAEd,KAFc,CAER,EAFQ,EAGd,OAHc,GAId,GAJc,CAIV,UAAC,CAAD,EAAU;AFlCnB,AEmCQ,QAAI,CFnCP,AEmCQ,KAAK,GAAN,EFnCZ,EEmCyB,CFnCP,AEmCQ,KFnCH,AEmCQ,GAAvB,CFnCU,CEmCkB,IFnCJ,GEmCW,GAAP,KFnCpC;AACA,AEmCQ,ADhCZ,EAAA,EAAA,CAAA,IDHS,EEmCU,CAAP,EFnCR,ACGJ,CAAA,EDHiB,GCGjB,EDHI,CCGJ,YAAA;ADFC,AEmCQ,ADhCL,GCyBmB,EAQd,IARc,CAQT,CDjCH,CCyBY,CAAnB,EDzBW,EAAJ,CAAO,IAAI,CAAC,KAAL,CAAW,KAAK,CAAhB,CAAP,EAA2B,IAAI,CAAC,KAAL,CAAW,KAAK,CAAhB,CAA3B,CAAP;ACkCA,ADjCH,GAFD,MCmCW,IAAI,GAAG,UAAd;AFnCJ,AEoCC,CAdiB,CFtBlB,CEqCC,IFrCD,AEsBkB,CFtBlB,AEqCM,IAfY,CAAT,IFtBT,CAAA,QAAA,GAAA,YAAA;AACI,ACGJ,EAAA,EAAA,CAAA,GDHQ,KAAK,CCGb,CAAA,KAAA,GDHI,ACGJ,EDHyB,QCGnB,CAAN,EAAe;ADFP,AE2CZ,ADxCQ,SCwCC,EDxCM,EDHI,ECGA,CCwCnB,CAAiB,ADxCF,CDHS,AE2CxB,ADxCsB,ECwCA,GF3CH,ACGQ,CDHG,ACGR,GAAS,CAAhB,EAAmB,EDHf,EAAP,CCG2B,CAAL,GAAS,CAA5B,CAAP;ADFC,AE2CL,ADxCC,GAFD,GC0CM,MAAM,GAAG,CAAC,CAAC,GAAF,EAAf;;AF1CU,AE2CV,ADvCA,EAAA,EAAA,CAAA,CCuCI,CAAC,CF3CK,AE2CJ,CAAN,CF3CU,CE2CD,EF3C6B,CCItC,CAAA,EDJU,ECIV,GAAA,UAAK,EAAL,EAAe;ADJL,AE4CN,ADvCA,QDLQ,AE4CJ,CAAC,CAAC,CAAF,ADvCG,EDLM,CE4CH,CAAV,ADvCW,CDLE,CE4CA,ADvCN,CDLM,ACKC,CDLD,ICKM,CDLb,AE4Cc,ADvCb,EAAe,KAAK,CAAL,GAAS,EAAxB,CAAP;ADLM,AE4CgB,ADtCzB,GAFD,GCwC0B,EF5CP,CE4CU,EAAE,CF5CR,GAAA,EAAA,AE4CC,CF5CD,IAAb;AAAA,AE4C6B,MAAA,EF5Cd,IE4CoB,EAAA,EF5CZ,GAAA,EAAA,CAAA,QAAvB;AE4Cc,ADpCxB,EAAA,EAAA,CCoCiB,ADpCjB,SAAA,CAAA,GAAA,GAAA,UAAI,CAAJ,EAAe,CAAf,EAAwB;ADPpB,AE4CA,ADpCA,WDRO,AE4CA,ADpCA,IAAI,EDRA,ACQJ,CAAO,GDRP,ECQY,CDRJ,ACQD,GAAS,CAAhB,EAAmB,KDRnB,ACQwB,CAAL,EDRA,CCQS,CAA5B,CAAP,CDR8B,CAAC,SAAL,CAAe,KAAf,CAAnB,GAAwC,+BAAxC,GACW,QAAQ,CAAC,GAAT,CAAa,UAAA,CAAA,EAAC;AAAI,AE2C3B,ADnCZ,GAFD,GCqCa,GAAG,EAAE,EF3CsB,CAAC,CAAC,GE2C/B,KF3C6B,EAAA;AAAY,AE2CzB,KF3CL,CE2CK,CF3C2B,IAAhC,CAAqC,AE2C1B,EAAA,EF3CX,CADX,GACqD,sBADrD,GAEK,IAFL,GAES,aAFhB;AAIH,AEwCU,ADjCX,EAAA,CDhBA,CCgBA,CCiCI,ADjCJ,SAAA,CAAA,IAAA,GAAA,UAAK,EAAL,EAAiB;ACkChB,GAHD,KD/BO,CCkCA,ADlCC,GAAA,EAAA,CAAA;ADLR,AEwCI,EFxCJ,KAAA,CAAA,AEwCQ,ADnCE,CCmCD,ADnCE,CCmCD,CAAF,CDnCG,ECmCG,ADnCH,CCmCP,ADnCO,EDLX,AEwCiB,CFxCjB,MEwCwB,CFxCxB,GAAA,YAAA;AACI,AEuCsB,ADlCtB,MCkCsB,EFvClB,CAAC,AEuCoB,EAAE,ADlCpB,GDLG,CEuCU,ADlCT,EAAJ,CAAO,CDLd,EAAiB,ECKE,CAAL,GAAS,CDLC,ACKjB,EAAmB,KAAK,CAAL,CDLT,ECKkB,CAA5B,CAAP;ADJA,AEsCiC,ADjCpC,GAFD,GCmCqC,EFtC7B,IEsCmC,CFtC9B,CEsC8B,SFtCvC,EAAqB,OAAO;AAAE,AEsCV,KAAP,CFtCiB,IAAI,EAAE,MAAR;AAAgB,AEuC5C,ADhCJ,EAAA,EAAA,CAAA,CDPgD,CAAC,EAAE,EEuCxC,GFvC6C,ACOxD,CAAA,IAAA,GAAA,UAAK,EAAL,EAAiB;ADPe,AEuCnB,KFvCY,CEuCZ,EDhCN,CCgCS,ADhCR,ECgCU,CDhCV,EAAA,CAAA,ECgCG;AFtCP,AEsCsB,MAAA,EDhChB,CAAC,EDNA,CEsCqB,ADhCrB,ECgCqB,ADhCrB,CAAA;ADNE,AEsCF,AD/BP,KC+BA,CFtCS,IAAI,CCON,CDPQ,GCOJ,EAAJ,CDPA,ACOO,KAAK,CAAL,GAAS,CAAhB,EAAmB,KAAK,CAAL,GAAS,CAA5B,CAAP;AG3CR,AJoC+B,AEuC1B,AD/BA,GAFD,CG1CJ,EJoC+B,CAAC,EAAE,CIpClC,GAAA,CJoCuC,WIpCvC,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;AJoCe,AEwCd,KFxCO;AInCR,AJoCK,ACSD,EAAA,CDbA,CIhCJ,AH6CI,CAAA,MG7CJ,GAAA,AH6CI,CAAA,EAAA,GAAA,CG7CJ,CAAA,QH6CO,CAAH,EAAQ,KG7CZ,CAAA;AF6EA,AD/BQ,SC+BC,ED/BM,KC+Bf,AD/BoB,CC+BH,AD/BF,CC+Bf,EAAuB,ED/BG,CAAC,CAAC,CAAb,IAAkB,KAAK,CAAL,KAAW,CAAC,CAAC,CAAtC;AG5CR,AJoCA,AEwCI,AD/BC,GAFD,IG3CG,CAAC,CJoCR,CEwCY,CE5EZ,AF4EI,CE5EQ,EJoCZ,uBIpCA,EAAuC,MAAvC;AJHA,AEgFQ,CFhFR,EAAA,MEgFa,IAAL;AE3ER,AF2EmB,AD7BR,EAAA,EG9CX,AH8CW,CAAA,KG9CX,GF2E0B,CD7Bf,GC6BmB,AD7B1B,IC6B0B,CAAA,EAAJ,CAAO,CAAP,CD7BL,CC6Be,CAAC,CAAX,CAAP,CD7Bf,EAA8B;AG9ClC,AJLa,ACoDL,ODpDK,CAAA,ACoDC,EAAE,GDpDH,ACoDM,GDpDN,CCoDU,EAAJ,CAAO,CDpDb,ACoDM,EAAU,CAAV,CAAX;AG/CR,AF4EQ,AD5BA,IAAA,KC4BK,AD5BA,CGhDb,GHgDiB,EC4BT,CE5ER,EAAA,EHgDiB,CAAA,eAAT;AGhDa,AJoCrB,AEwCqB,AD3Bb,EGjDa,EHiDb,EAAE,CAAC,CAAH,CDbQ,EIpCK,AHiDN,CGjDM,CJoCrB,AEwC4B,CFxCP,CAArB,ACamB,CAAC,CDbU,AEwCE,CE5EX,CHiDN,CGjDM,AHiDG,CC2BQ,CAAA,EAAJ,CAAO,AD3BpB,CGjDM,AF4EO,AD3BpB,CGjDa,CF4EiB,CAAV,CAAP;AFvCjB,ACaI,IAAA,EAAE,CAAC,CAAH,CDbG,ECaI,EDbA,ECaI,CAAC,EDbT,CAAU,ACaN,CAAS,KAAT,CAAP,IDbG,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B,CAA/B,CAAP;AIrCJ,AJsCC,AEuCO,AD1BA,SC0BK,EE7Eb,AHmDe,EAAP,EC0BA,EE7ER,GAAA;AF6EqB,ADzBhB,GANM,UC+BiB,IAAI,IAAA,CAAA,EAAJ,CAAO,CAAC,CAAR,EAAW,CAAX,CAAP;AEtEpB,AJ6BD,OAAA,CAAA,IAAA,GAAA,IAAA;AE0CQ,ADxBJ,EAAA,EAAA,CAAA,ICwBS,KDxBT,CAAA,CCwBI,ODxBJ,GAAA,YAAA;AGrDA,AJuCJ,AEsCsB,ACnFtB,AF4DQ,EGtDJ,EJuCJ,AG7CA,ICMI,AHsDQ,CGtDR,CDNJ,GH6CA,AEsC6B,ACnF7B,AF4DiB,GAAW,CCuBK,CE7E7B,CAAA,EF6E6B,CAAA,CDvBL,CCuBC,ADvBD,CGtDxB,AF6EgC,ACnFpC,CDmF6B,ACnF7B,ECMI,AF6EmC,CAAV,CAAP,GCnFtB,CAAA,KF4D4B,CGtDxB,EHsD0C,IE5D9C,AF4DkD,CE5DlD,AF4DmD,CE5DnD,GF4D8C,CAAU,KAAK,CAAL,GAAS,KAAK,CAAxB,CAAtC;AGrDA,AJsCR,AEkCI,ADlBI,QAAI,GGtDG,EHsDE,CAAL,GGtDS,AHsDA,CGtDC,EHsDd,EGtDO,AHuDH,CGvDe,IHuDV,CGvDF,EAAmB,CHuDb,CGvDN,EAAuB,CAC1B,CHsDA,CADJ,IGrDU,CAAC,AHuDN,IGvDD,AHuDK,CGvDO,IHuDF,CAAL,GAAS,GAAb,EACD,EGxDA,CAD0B,EAE1B,AHuDK,IAAI,EGvDH,CAAC,EHuDP,EGvDA,CAAY,OAAA,CAAA,aAAZ,EAA2B,EAA3B,EAA+B,EAA/B,CAF0B,CAAvB,CAAP;AAIH,AJkCL,AEwCC,ACpFD,AFgEQ,GG3DJ,CDLJ,MAAA,CFgEe,CDpBf,CG5CA,GFgEQ,IEhER,CAAA,QAAA,CAAA;AHqDI,ACYC,GAPD,QDLA,SAAA,CAAY,KAAZ,EAAwB;AI1C5B,AJ2CQ,AEgCR,ACrFA,IAAA,IAAA,CCUA,AJ2Ca,AEgCJ,ECrFT,GHqDQ,CI3CR,EJ2CqB,CGrDrB,CAAA,CDqFA,CAAqB,CFhCb,AEgCR,EAA2B,CCrF3B,CAAA;ACGA,AJmDK,AEgCD,ADpBA,CG/DJ,CAAqB,AH+DjB,EAAA,CAAA,GG/DuB,CAAC,CFmFhB,CAAR,GDpBA,CAAA,GG/DJ,AH+DI,CG/DJ,EH+DI,YAAA;ACqBI,ACtFA,AFkEA,IElEA,IAAI,CDsFC,ECtFU,AFkER,ECoBP,EDpBW,CAAC,CElES,CAAA,EFkEd,CAAU,CElEjB,IFkEsB,CAAL,GAAS,KAAK,CAAd,GAAkB,KAAK,CAAL,GAAS,KAAK,CAA1C,CAAP;AGvDR,AJ4CI,AE+Be,ACtFX,AFmEH,EDZD,CCUA,CEjEU,IAAI,CCWT,EJ4CL,AGvDmB,CHuDnB,CI5CJ,AF2E0B,GE3Eb,CDXgB,CAAA,CDsFV,EF/Bf,CAAA,AGvDI,QHuDJ,GAAA,UAAS,CAAT,EAA0B;AI3C1B,SAAO,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,EAAnB,EAAuB,CAC1B,MAAM,CAAC,IAAP,CAAY,8BAAZ,CAD0B,EAE1B,MAAM,CAAC,IAAP,CAAY,MAAZ,CAF0B,CAAvB,CAAP;AAIH,AFuEO,ACrFR,AFmEI,EAAA,EEnEJ,AFmEI,CAAA,ICkBS,KDlBT,CCkBI,ADlBJ,EEnEJ,EFmEI,GAAA,YAAA;ADbI,AE+Ba,ACrFrB,AFoEQ,QDdI,GCcG,EDdE,AE+BW,GDjBR,CCiBC,CF/Bb,EAAgB,CCcT,CAAW,IAAI,KAAK,GAAL,EAAf,CAAP;AGtDP,AJyCW,AGvDZ,AFqEK,GAFD,OEnEJ,CHuDiB,KAAL,AGvDZ,EAAA,CHuDsB,QAAA,CAAA,QAAA,CAAA,EAAA,EACH,KAAK,KADF,CAAA,EAEH,CAFG,CAAV;AIrCZ,AJyCY,AE2BJ,ACtF2B,EAAA,ICkB7B,CAAC,AJyCK,EAAA,AE2BC,EEpEb,ADlBmC,CCkBvB,AJyCA,AG3DuB,GDsF3B,EF3BS,CIzCC,CAAC,GJyCP,CIzCA,CAAY,CDlBW,EAAA,CCkBvB,AJyCU,CIzCtB,EAA+B,CJyCnB,CG3DuB,CAAA,EH2Db,EAAA,CIzCiB,CAAC,GJyClB,CIzCtB,IJyCsB,CAAV,GAAU,KAAA,CAAV,GAAU,EAAA,CAAA,IAAA,CAAV,IAAU,EAAG,IAAH,CAAV;AACH,AE0BY,ADhBrB,SAAA,EAAA,ECgB4B,OAAP;AFzBhB,AG1DD,AFNJ,CAAA,EDwDI,ACxDJ,QEMI,aAAA,CAAY,KAAZ,EAAqB;ADoFjB,ACpFJ,QAAA,CDoFS,ICpFT,GDoFI,ACnFA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADhB;AH6DJ,AEuBsB,AD1FT,OAAA,CAAA,CDmEb,CCnEa,GC0FgB,AD1FhB,EAAA,GDmEb,CEuBsB;AF/CtB,AE2CI,AC9EI,CHmCR,EAAA,CGnCQ,KAAI,CAAC,KAAL,GAAa,MAAA,CAAA,KAAA,CAAM,YAAN,EAAb;ADoFP;AFjDqB,AGlCjB,OHkCiB,CAAA,SAAA,GAAA,SAAA;AA0BrB,AEyBD,SFzBU,AEyBD,CFzBE,MEyBX,CAAiB,CAAjB,CFzBC,CAAuC,AEyBjB,aFzBtB,GAAuD,IAAvD;AE0BG,ACrFA,EAAA,ODqFO,MCrFP,CDqFc,ACrFd,CDqFe,CAAC,CAAC,GAAH,CAAP,CAAe,CCrFtB,CAAA,GDqFO,CAAqB,CAAC,CAAC,ACrF9B,GAAA,GDqFO,CAAP,QCrFA;AHoEJ,AEkBC,ACrFO,QAAM,CHmEL,AGnEM,GAAG,EAAV,SHmER,CAA4D,IAA5D,EAAuF,KAAvF,EAAiG,QAAjG,EAAmH;AAC/G,AGnEI,MHmEE,KAAK,AGnEA,GHmEG,CGnEC,CAAC,EHmEhB,GGnEe,EAAQ,EAAR,EAAY,CACnB,IAAI,CAAC,QAAD,CADe,EAEnB,IAAI,CAAC,kBAAD,EAAqB;ADoFrC,ACnFgB,IDmFhB,ECnFgB,CAAC,EDmFjB,ACnFmB,EADkB;AHkEjC,AEkBJ,AClFgB,MHgER,AGhEQ,CAAC,EAAE,EHgEN,CAAC,EGhEU,KAAL,CAAW,CHgEtB,AGlE6B,IHkEV,KAAK,CAAC,SAAN,CAAgB,aAAvC,EAAsD;AAClD,AEiBR,ACjFgB,MAAA,CAAC,CHgEH,CAAC,AGhEI,GHgED,AEiBlB,ECjFwB,EHgEhB,GGhEW,CAAW;AHiEtB,AEqBJ,ACzFiC,KAArB,EAID,CHgED,AG/DE,GH+DD,AEqBX,CCpFgB,CAAC,CH+Dc,EEqB/B,CAAY,CFrBuB,CAAJ,CAAK,MG/DpB,EH+DoB,AEqBpC,ACpFgC,CH+DI,CEqBL,OFrBK,CAAA,EAAA,EACzB,KADyB,CAAA,EACpB;AACR,AEoBJ,ACrF8B,MHiE1B,AGjE0B,GDqFzB,ECrF8B,EAAE,CHiEzB,AEoBZ,EFpBY,CEoBC,CCrF6B,UDqFlB,CACnB,KADQ,CACF,IADE,EAER,KAFQ,CAEF,CAFE,EAGR,GAHQ,CAGJ,UAAC,CAAD,EAAU;AFxBP,AEwBY,ACxFI,KH+DI,AG/DpB,CH+De,AGhEpB,CHgEP,CG9DQ,IAAI,CDuFY,ACvFX,CDuFY,CAAC,KAAF,CAAQ,EAAR,CAAA,CCvFZ,EAAe;ADuFQ,ACvFN,KDoFhB,CAAb,ACpF6B,KAAK,EAAE,KAAK;AHkEzC,AEsBA,ACxF2B,IHkE3B,CGlEY,EHkEX,AGlEiD,CHkEhD,CEsBG,ACxFO,CDwFZ,AC1FO,CAJC,CAFe,CH0EvB,AEsBS,AChGE,CAAX,EH0EU,EEsBI,KAAL,CAAW,CAAX,CFtBC,CAAA,AEsBa,EFtBZ,IEsBX;AFtBe,AEuBf,ACtFH,GAbD,MDmGS,CAAL,GFvBe,AEuBN,KAAK,EFvBQ,CAAC,CAAD,CAAP,AEuBN,CAAW,MAApB;AFvByB,AEwB5B,KFxBG;AG9DR,SAAA,aAAA;AH+DQ,AEyBG,AC7GX,CAAA,CD6GW,AC7GwB,EHoF3B,GAAC,AEyBE,CFzBD,AEyBC,AC7G8B,CAAC,KHoFlC,GAAW,CGpFnB,CAAA,CHoFoB,AEyBT,CFzBU,EEyBjB,IFzBe,EAAX,MEyBJ;AFxBI,AEyBA,IFzBA,GAAC,CAAC,GEyBK,GFzBP,CAAS,AEyBE,KFzBX,AEyBO,CAAU,EFzBA,GAAC,CAAC,CEyBF,CAAA,MAAV,CAAP,EFzBiB,CAAc,IAA/B;AE0BH,AC/GQ,GD6GF,IC7GE,CAAA,aAAA,GAAA,aAAA;AHsFL,QAAI,GAAC,CAAC,iBAAN,EAAyB;AACrB,AE0BR,AC1FJ,ED0FI,EC1FJ,EHgEY,CE0BR,CAAA,CF1BS,CAAC,MAAF,AGhEZ,CHgEqB,AE0BjB,CAAA,MAAA,GAAA,OF1BQ,GAA6B,AE0B9B,CAAP,EAAkB,CAAlB,EAA2B,MF1BU;AAAM,AE2BvC,AC3FR,QD2Fc,CAAC,GAAG,GF3B6B,EE2BxB,CF3ByB,CAAC,EE2B/B,CAAU,CAAV,EAAa,CAAb,CAAV,SF3BuC,EAAA;AAAqB,AE4B5D,AC5FR,OHgEY,GGhEZ,CD4Fe,CAAC,IAAI,AC5FpB,CD4FqB,CC5FrB,ID4F0B,GAAlB;AF3BC,AE4BJ,AC7FsB,EAAA,CD0FvB,QC1FuB,CAAA,YAAA,EAAA,MAAA,CAAA;;AHkEnB,AE6BJ,AC3FA,ED2FA,KAAA,CF7BQ,AE6BR,GF7BS,AG9DT,CH8DU,KE6BV,CAAA,KC3FA,CAAY,CD2FZ,GAAA,CC3FA,EH8DI,AG9Da,EH8Dc,KE6BvB,CAAR,EAAa;AF5BL,AE6BJ,AC5FJ,MH+DQ,EG/DR,CH+DS,CAAC,CE6BC,EC5FX,GH+DQ,AE6BQ,AC3FZ,CH8Da,KE6BN,AC3FP,CD2FmB,AC3FnB,CD2FoB,CAAC,CAAd,CC3FP,CD2FwB,AC3FxB,CD2FyB,CAAC,CAAnB,CAAP,AC3FA,EAAM,EH8DF,GAA+B,AG9DnC,KAAY,IADhB,GH+DuC;AAAM,AE8B5C,GAFD,YF5B6C,GAAC,CAAC,mBAAF,EAAA;AAAuB,AGpCpE,IAAA,GHoCQ,EGpCR,CAAA,SAAA,GAAY,UAAC,MAAD,EAA0B;AHqCjC,AE+BL,ACnEI,EDm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AAV;AACA,AE+BA,ACpGQ,EHqER,AE+BA,CF/BC,CAAC,EGrEM,CDoGR,CAAA,EF/BA,CGrEa,EHqEF,AGrEI,IDoGf,CAAA,EF/BA,KE+BA,GAAA,UAAQ,CAAR,EAAgE;AAC5D,ACpGQ,QAAA,CDoGH,IAAI,ACpGI,CDoGH,CCpGQ,CAAC,CDoGN,CAAb,EAAgB,CAAC,ACpGO,CAAC,CAAN,CDoGC,ECpGO,CAAT,EDoGO,CAAzB,CCpGgC,CDoGJ,CAAC,ACpGX,EDoGlB,CCpGkC,CDoGD,GCrGtB;AHsEf,AEgCQ,ACpGI,MHoER,EGpEQ,GDoGC,EFhCF,CGpEO,CDoGD,CAAC,ACpGK,EHoEZ,CEgCU,CAAb,CCpGoB,CHoExB,AEgCoB,ACpGK,CDoGJ,ACpGF,GHoEnB,AEgCwB,ACpGK,EAAV,GDoGU,ACpGE,CDoG3B,CFhCG,CEgCyB,CAAC,ACtGtB,EDsGP,CFhCG,CEgC8B,IFhC9B,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,MAAb,EAAqB;AACjB,AEgCQ,ACpGA,QHoEF,AEgCE,ACpGA,CDoGC,CAAC,ICpGI,CDoGC,CCpGC,CHoED,EEgCL,CFhCQ,AEgCE,CAAV,EAAa,CAAb,CAAD,EFhCgB,AEgCE,CFhCD,AEgCjB,EAAqB,CAArB,CFhCT,AEgCQ,ECvGG;AHwEX,AEgCK,ACpGG,IHoER,IGpEQ,KHoEC,CAAC,EGpEM,EAAE,QHoElB,CAAuB,CGxEZ,MHwEmB,CAAC,KAA/B,EAAsC,OAAO,CAAC,KAA9C;AACA,AEgCC,ACpGO,IHoER,IGpEQ,GHoED,CAAC,EGpEM,EAAE,EHoEhB,GAAiB,IAAjB;AACA,AEgCH,AC1Gc,GDoGf,CF1BI,OAAO,CAAC,IAAR,GAAe,SAAf;AACH,AG/EyB,KAAX,CAAX;AHgFP,AEgCG,ACpGC,EDoGD,CClHA,IDkHA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAoB,CAApB,EAAyB;AACrB,WAAO,CAAC,CAAC,KAAF,EAAP;AF/BR,AEgCK,ACvFD,EAAA,CDqFA,MF9BY,IAAhB,CAAyD,AGvDrD,CAAA,GHuDJ,EAAoF,IGvDhF,CHuDJ,AGvDI,EHuDoG,MGvDpG,EHuDJ,CGvDI,CHuD0H,WGvD1H;AHuDgF,AGvDhF,MHuDgF,EGvDhF,GHuDgF,EGvDhF,GHuDgF,AGvDhF,IAAA,CHuDgF,CAAA,EAAA;AAAA,AEkChF,EAAA,EFlCgF,GEkChF,CAAA,CFlCgF,GAAW,EAAX,GEkChF,CAAA,cAAA,GAAA,UAAe,CAAf,EAAoB;AFlC8E,AEmC9F,ACzFA,QDyFM,ACzFA,EDyFE,ECzFE,CDyFC,ECzFE,EDyFE,CAAC,CCzFC,EDyFN,CAAS,CAAC,ACzFJ,CDyFK,ACzFL,CDyFG,CCzFP,CAAO,CDyFM,CCzFb,EAAW,CDyFM,CAAC,ACzFlB,CAAb,IDyF0B,CAAW,CAAC,CAAC,CAAb,CAAf,CAAX;AACA,ACzFA,QDyFM,ACzFF,EDyFI,GAAG,ACzFF,GAAG,CDyFG,CAAC,ACzFhB,GDyFW,CAAS,CAAC,CAAC,CAAF,GAAM,IAAI,CAAC,KAAL,CAAW,CAAC,CAAC,CAAb,CAAf,CAAX;AFpCgG,AEqChG,ACzFA,MHoDgG,EEqC1F,CCzFD,GDyFK,EFrCsF,AGpDhG,CDyFa,ACzFF,IHoDqF,AEqChG,CCzFA,CAAiB,GHoD+E,CAAA,EAAA,CGpDhG,CAAyB,UAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAQ;AHoD+D,AEsChG,ACzFI,IHmD4F,IEsC5F,EAAE,ACzFE,CAAC,CHmDuF,CEsCvF,EFtCuF,CGnDlF,CHmDkF,AEsC5F,ACzFI,IDyFS,ACzFE,CAAC,CDyFD,GAAG,CCzFG,CAArB,EDyFJ,ACzF4B,EDyFA,GCzFK,IDyFE,ACzFE,IAAT,CDyFA;AFtC0F,AEuCtH,ACzFI,MAAA,KDyFG,ACzFE,IDyFT,ACzFa,CAAT;AD0FP,ACzFI,GDmFL,ECtFI;AHqDJ,AGjDI,IAAA,KHiDG,EGjDI,CAAC,GAAR,CAAY,KAAZ,EHiDiB,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,CAArB;AACH,AEwCG,ACzFI,EDyFJ,ECzFI,GDyFJ,CAAA,GCzFW,CAAC,GAAR,CAAY,CDyFhB,CAAA,KCzFI,EAAqB,KAAK,GDyF9B,ECzFyB,CDyFzB,ACzFoC,KAAX,CAAiB,IDyF1B,ACzFS,CDyFzB,ACzF+C,EDyF1B,ECzF8B,CAAC,CAA3B,EAA8B,IAAI,CAAC,CAAL,GAAS,CAAvC,CAArB;AD0FA,ACzFA,QAAI,GDyFG,CAAC,CAAC,CAAF,GAAM,ACzFA,CDyFN,ECzFS,CAAhB,EDyFmB,CAAZ,IAAiB,CAAC,CAAC,CAAF,GAAM,CAAN,KAAY,CAApC;AF3CR,AE4CK,GAFD,IF1CJ,CAAA,IAAA,GAAA,IAAA;AG7CQ,QAAM,IAAI,GAAG,SAAP,IAAO,CAAC,KAAD,EAAc;AHiDnC,AE0CI,AC1FgB,ED0FhB,KAAA,CAAA,CF1CY,CGhDI,GAAG,GAAK,CD0FxB,CAAA,CF1CJ,CAA2B,CGhDK,CAAA,EHgDhC,CGhDoB,CHgDoB,GE0CpC,GF1CJ,AE0CI,EF1CoD,QAAxD,AE0CgB,CAAZ,CF1CoE,CE0CnD;AACb,AC1FI,UAAI,CD0FD,AC1FE,CD0FD,CAAC,CAAF,AC1FH,EAAU,CD0FD,CAAN,KAAY,CAAZ,IAAiB,CAAC,CAAC,CAAF,GAAM,CAAN,KAAY,CAApC;AACH,AC1FO,GDwFR,OCxFc,EAAE,GAAG,KAAK,GAAG,SAAnB;AH+CA,AG9CA,MH8CA,AG9CA,KH8CK,GAAqB,CG9CjB,GH8CqB,AG9ClB,CH8CkB,IG9C9B,CH8CA;AAAA,AE6CR,EAAA,IF7Ce,CE6Cf,CAAA,MF7CuB,GAAW,AE6ClC,CAAA,GF7CsC,CAAA,QAA9B,EE6CR,GAAA,UAAe,CAAf,EAAoB;AF7CZ,AE8CJ,AC3FI,MH6CiB,AG7CjB,IH6CqB,CE8ClB,AC3FC,CAAC,CH6CqB,GE8ClB,CF9CsB,CAAA,AG7C9B,CAAY,GH6CZ,IG7CA,CAAoB,ID2FjB,CAAqB,CAArB,IC3FiB,CD2FU,AC3FV,EAAC,GD2Fc,OAAL,CAAa,CAAC,CAAC,KAAF,EAAb,CAA3B,IAAsD,KAAK,OAAL,CAAa,CAAC,CAAC,IAAF,EAAb,CAA7D;AACH,AC5FgC,GD0FjC,YC1FiC,CAAC,CAAC,IAAF,CAAO,EAAP,CAAA;AH8CjC,AG9C2C,MH8CvC,CG9CI,OH8CI,IAAI,QAAQ,CAAC,IAAT,KAAkB,IAA9B,IAAsC,QAAQ,CAAC,MAAT,KAAoB,QAAQ,CAAC,QAAT,CAAkB,MAAhF,EAAwF;AACpF,AE+CJ,EAAA,KAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,UAAiB,GAAjB,EAAwB;AF9CpB,AE+CA,AC7FI,MAAA,EH8CE,AE+CA,CAAC,AC7FA,CAAC,CH8CC,CE+CC,EF/CE,GE+CG,EC7FX,CAAc,CAAd,CH8CgB,CAAC,AG9CA,CAAjB,EAAoB,GAApB,CH8CQ,CG9CiB,CH8C7B,EG9CI,ED6FM,CAAyB,GAAzB,CAAV;AF9CA,AE+CA,QF/CG,AE+CC,CF/CA,IE+CK,GAAG,CAAZ,WF/CuB,CAAC,KAAD,EAAQ,QAAQ,CAAC,KAAjB,CAApB,IAA+C,GAAG,CAAC,IAAJ,KAAa,MAA/D,EAAuE,WAAW,CAAC,GAAG,CAAC,CAAL,EAAQ,KAAR,CAAX;AACvE,AE+CA,AC7FI,IH8CJ,EG9CI,EH8CA,CAAC,AE+CA,EC7FG,CAAC,EH8CT,GAAa,GAAG,CAAC,CAAjB,AG9CI,CAAgB,KAAI,CD6FxB,AC7FyB,CD6FC,CAA1B,EAA6B,EC7FT,CAAY,GAAZ,CAAgB,GD6FN,CAAD,EAAI,EAAJ,AC7FT,ED6FiB,AC7FjC,CD6FyB,CC7FmB,CD6FV,IC7Fc,CAAC,MAAL,CAAY,GAAZ,CAAgB,KAAhB,CAAsB,EAAtB,EAA0B,IAA1B,CAA+B,CAA/B,CAA5C,EAA+E,IAA/E;AH+CJ,AE+CI,IF/CJ,EE+CI,EF/CA,CAAC,EE+CI,IAAI,CF/Cb,AE+Cc,GF/CC,CE+CG,CAAC,KAAK,CF/CD,CAAC,CE+CX,GAAiB,CAAjB,EF/Cb,CE+CkC,CAA9B;AACH,AC9FG,KD4FJ,CC5FI,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,UAAA,CAAA,EAAC;AHgDzB,AE+CA,AC/F6B,QHgDzB,GE+CG,CF/CC,CAAC,EGhDoB,CD+F7B,IC/FiC,CAAC,EHgD9B,IAAmB,GAAG,AGhDG,CHgDF,AGhDiB,CAAf,CAAA,EHgDN,KAAa,MAApC,EAA4C;AACxC,AE+CP,AChGiD,GDyFlD,GFxCQ,CGjDA,EHiDG,CAAC,CAAJ,CAAM,IAAN,GAAa,IAAI,CAAC,QAAL,EAAb;AACH,KAFD,MAEO;AACH,AE+CR,AChGQ,EDgGR,IF/CQ,AGjDA,CDgGR,CAAA,GChGY,CAAC,KDgGb,AChGQ,CDgGR,AChGmB,KAAX,CAAiB,CHiDE,CAAC,IAAD,CE+C3B,AChGQ,CHiD0B,AGjDD,EDgGjC,MF/C2B,EAAiB,AGjDV,CAAD,CDgGnB,CChGuB,CAAJ,CDgGjC,CChGwC,CDgGnB,AChGY,EAAQ,CHiDI,CAAD,EAAI,EAAJ,EAAQ,CAAR,EAAS;AACzC,AE+CR,AChGQ,QHiDA,AE+CF,CAAC,GAAG,AChGE,CAAC,IDgGE,CF/CG,AGjDA,CHiDC,CAAD,CGjDV,CHiDc,CGjDC,GHiDL,EAAU,EAAV,CAAV,KE+CE,CAAyB,GAAzB,CAAV;AF9CK,AE+CL,AChGQ,OH+Ce,CEiDjB,CF/CC,CE+CC,EChGM,CDgGH,AChGI,GAAG,CDgGH,EF/CP,CE+CG,AChGW,CHiDf,CE+CP,CF/CY,CAAL,AGjDe,CAAA,CHiDT,CGjDK,CAAO,CAAP,EAAU,CAAV,EAAa,GAAb,CAAiB,GAAjB,EAAsB,GAAtB,EAA2B,KAA3B,CAAiC,EAAjC,CAAV;ADiGR,AChGQ,QAAA,CDgGH,EChGM,CAAC,SAAJ,GAAgB,KDgGxB,CAA0B,CAA1B,AChGQ,EDgGqB,UAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAQ;AACjC,UAAI,CAAC,IAAI,CAAC,KAAK,GAAf,EAAoB,EAAE,CAAC,GAAH,CAAO,CAAP,EAAU,IAAV;AFhDhB,AEiDP,ACjGO,KD+FR,GF/CQ,AGhDA,KAAI,CAAC,EHgDG,CAAC,KAAT,CAAe,EGhDf,CAAiB,CAAC,CAAC,CAAnB,EAAsB,CAAC,CAAC,CHgDxB,AGhDA,CHgD2B,CGhDA,CHgDE,AGhD7B,CHgD8B,CGhDA,CAA9B,GHgDA;AEkDR,ACjGK,OALD,IDsGI,EAAE,CAAC,GAAH,CAAO,IAAP,KAAgB,EAAE,CAAC,GAAH,CAAO,MAAP,CAAhB,IAAkC,CAAC,EAAE,CAAC,GAAH,CAAO,MAAP,CAAnC,IAAqD,CAAC,EAAE,CAAC,GAAH,CAAO,OAAP,CAAvD,IACC,CAAC,EAAE,CAAC,GAAH,CAAO,IAAP,CAAD,IAAiB,CAAC,EAAE,CAAC,GAAH,CAAO,MAAP,CAAlB,IAAoC,EAAE,CAAC,GAAH,CAAO,MAAP,CAApC,IAAsD,EAAE,CAAC,GAAH,CAAO,OAAP,CAD9D;AFjDQ,AEmDX,GARD,MF3CY,EAAA,GAAA,QAAQ,CAAC,mBAAT,MAA4B,IAA5B,IAA4B,EAAA,KAAA,KAAA,CAA5B,GAA4B,KAAA,CAA5B,GAA4B,EAAA,CAAA,IAAA,CAA5B,QAA4B,CAA5B;AACH,AG/CD,MAAA,CH0CmB,CAAnB,mBG1CqB,CAAC,IAAD,CAArB;AHgDH,AEmDL,AClGK,EDkGL,GCtHI,EDsHJ,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,CAAR,EAAa;AFlDZ,AEmDG,GFpEJ,MAiBO,EEmDI,KAAK,gBAAL,CAAsB,CAAtB,MAA6B,CAApC;AFlDA,AEmDH,ACnGG,GDiGJ,CCjGI,qBAAqB,CAAC,IAAD,CAArB;AHkDA,AGjDH,GAhCD,KHiFU,OAAO,GAAG,IAAI,CAAC,UAAL,GACV,QAAQ,CAAC,cAAT,CAAwB,IAAI,CAAC,KAA7B,CADU,GAEV,QAAQ,CAAC,aAAT,CAAuB,IAAvB,CAFN;AAGA,AEgDJ,EAAA,EFhDI,GEgDJ,CFhDQ,AEgDR,CFhDS,KAAL,GAAa,AEgDjB,CAAA,MFhDI,cEgDJ,GAAA,UAAqB,CAArB,EAA4B,CAA5B,EAA+E;AF/C3E,AE+CJ,AClGA,EAAA,EHmDI,IAAI,AE+CR,CF/CS,IE+CT,CClGA,CAAA,CHmDI,AE+CJ,GF/CmB,CE+CnB,IClGA,CHmDI,AGnDJ,UAAA,GAAA,UAAW,KAAX,EAA0B,GAA1B,EAAmC,aAAnC,EAAwD;AAC5C,QAAA,GAAG,GAAK,KAAI,GAAZ;AHmDR,AE+CA,ACjGA,QHkDI,AE+CE,ACjGF,CAAC,GAAL,EDiGY,ACjGF,EHkDV,CE+CsB,CF/CR,AE+CS,IAAD,EAAO,MAAP,EAAe,MAAf,EAAuB,OAAvB,CAAtB;AF9CI,AE+CJ,ACjGA,IDiGA,EF/CI,EGlDE,EDiGA,CACD,CClGK,EHkDE,CAAC,AGlDA,CAAb,EDiGA,CACa,GFhDT,CAAiB,KAAjB,CAAuB,AEgDb,GAAD,EAAS,OFhDlB,CAAoC,OAApC,EAA6C,QAAQ,CAAC,KAAtD;AEiDI,AClGR,IAAA,GAAG,CAAC,EDkGU,CAAC,GAAG,CAAC,CAAC,CClGpB,CAAc,EDkGI,CAAO,AClGR,CAAC,CAAlB,EAAqB,GDkGW,AClGR,CDkGS,AClGR,CAAzB,EDkGgC,CAAd,CAAV;AFhDJ,AEiDI,AClGR,IAAA,EDkGQ,CFjDJ,AEiDK,AClGN,CDkGO,AClGN,CHiDA,EEiDK,CFjDL,CEiDW,CAAN,AClGT,CAAW,CDkGO,IFjDN,AGjDI,CHiDH,AEiDS,CAAC,EClGH,EDkGF,CAAU,CAAC,CAAC,CAAZ,AClGQ,EDkGO,CAAC,CAAC,AClGL,CDkGZ,AClGa,CDkGtB,CAAD,AClGQ,CAAhB,EHiDI,MAA4B,IAA5B,IAA4B,EAAA,KAAA,KAAA,CAA5B,GAA4B,KAAA,CAA5B,GAA4B,EAAA,CAAA,IAAA,CAA5B,QAA4B,CAA5B;AACH,AEiDI,AClGL,KH8CA,AEgDA,GC9FM,EAAE,CHiDD,EGjDI,EHiDA,MAAJ,EAAY,GGjDK,GAAG,IAAI,CAAC,EAArB,GAA0B,CAArC;AHkDI,AEiDP,AClGG,GD2FJ,CC3FI,EHiDI,CGjDD,CAAC,IHiDM,CAAC,IGjDX,CHiDI,CAAa,CGjDD,QAAhB,EHiDI,CAAyB,OAAzB;AACH,AGjDD,IAAA,GAAG,CAAC,SAAJ;ADmGJ,AClGI,EDkGJ,EClGI,GDkGJ,AClGO,CDkGP,AClGQ,GAAJ,CAAQ,CAAR,EAAW,CAAX,CDkGJ,CAAA,AClGkB,IAAd,EAAoB,EAApB,EAAwB,EAAE,GAAG,IDkGjC,AClGqC,CAAC,EDkGtC,AClGI,UDkGgB,CAApB,EAAyB;AFjDrB,AEiDJ,ACjGI,IAAA,CHgDA,EAAA,AGhDG,CDiGP,ACjGQ,EHgDJ,GEiDJ,CFjDQ,CAAC,CEiDT,CCjGI,GDiGJ,YFjDI,MAAsB,IAAtB,IAAsB,EAAA,KAAA,KAAA,CAAtB,GAAsB,KAAA,CAAtB,GAAsB,EAAA,CAAA,IAAA,CAAtB,IAAsB,CAAtB;AACA,AGhDA,IAAA,GAAG,CHgDG,AGhDF,EHgDI,EGhDR,CHgDW,IAAI,CAAC,OAAL,EAAX;AACA,AEgDA,AChGA,IAAA,GAAG,CHgDC,AEgDE,AChGF,EHgDE,AEgDE,GAAG,CFhDD,EAAE,CAAC,AGhDb,CDgGgB,GFhDN,KAAY,MAAtB,EACI,GE+CO,CAAyB,CAAzB,CAAX,KF/Ce,CAAC,EAAE,CAAC,CAAJ,EAAO,KAAP,CAAX;AEgDJ,AChGA,IAAA,GAAG,CDgGG,AChGF,GAAJ,CAAQ,CAAR,EAAW,CAAX,CDgGe,CChGD,EDgGW,CAAC,CChG1B,EAAoB,CDgGK,EAAO,CChGR,CAAC,EAAL,EDgGK,CChGK,CDgGU,AChGpB,GAAc,EAAd,CDgGK,EAAuB,AChGT,IAAI,CAAC,EDgGnB,AChGzB,CDgGA,CChGgD,IAAI,CAAC,EAAL,GAAU,CAAV,GAAc,EAA9D;AHkDA,AE+CA,AChGA,IAAA,GAAG,CHiDC,AGjDA,GDgGG,EF/CE,CAAC,GAAV,AGjDA,EHiDe,CE+CC,CAAC,MAAV,CAAiB,UAAA,CAAA,EAAC;AF9CrB,AE+CA,AChGJ,IAAA,EHiDI,CGjDD,CAAC,EDgGM,CF/CD,AE+CE,CF/CD,AGjDV,EDgGc,CF/CV,CAAU,IAAI,CAAC,AE+CE,CAAC,CAAD,CAAjB,EF/CA;AACH,AE+CG,AChGJ,IAAA,GAAG,CAAC,EDgGM,CAAC,GAAG,EAAE,CAAC,AChGjB,IDgGc,CAAQ,CAAR,CAAV;AACA,AChGJ,IAAA,GAAG,CAAC,EDgGI,CChGR,CAAQ,CAAR,EDgGY,AChGD,CDgGE,AChGb,EAAc,IAAd,CDgGQ,CAAa,AChGD,CDgGZ,CAAJ,EAAqB,GChGE,IDgGK,AChGD,CAAC,EAAZ,CDgGK,EChGY,CAArC,EAAwC,OAAO,IAAI,CAAC,EAAZ,GAAiB,CAAzD;AHkDA,AE+CI,AChGJ,IHiDA,AGjDA,GAAG,CAAC,KDgGO,IChGX,CDgGI,KF/Ce,CAAC,IAAD,EAAO,QAAP,EAAiB,UAAC,CAAD,EAAI,EAAJ,EAAQ,CAAR,EAAS;AACzC,AE+CH,AChGD,IAAA,CD2FO,CF1CH,AE0CJ,CC3FG,CAAC,IAAJ,IHiDc,CAAC,CAAD,EAAI,IAAJ,EAAU,SAAV,CAAV;AACH,AE+CJ,AChGG,GDuFJ,CCvFI,CH+CmB,EAEhB,AGjDA,CAAC,SHiDA,EAAD,EAAK,CAAL,AGjDH,EHiDS;AGhDZ,GArBD;ADsHA,EAAA,KAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,UAAqB,CAArB,EAA4B,GAA5B,EAAoC;AFhD5B,AEiDJ,AChGJ,EAAA,IH+CQ,EEiDA,KAAK,CFjDG,AG/ChB,CH+CiB,AG/CjB,KH+CQ,CAAe,GEiDf,AChGR,CDgGyB,AChGzB,CDgGQ,CAAJ,EAAyB,GFjDrB,CAA2B,CG/CnC,CH+CqC,CAAC,AEiDF,CChGpC,IH+CQ,MG/CE,KAAV,EAAsB;ADgGgB,AC/F1B,MD+F0B,EC/F1B,GAAG,CD+F6B,EAAE,AC/F1B,KAAI,GAAZ;AH+CJ,AEgD4B,AC9FhC,KD8FyB,EFhDrB,CG9CA,CH8CA,AG9CC,GH8CD,AG9CJ,EAAU,MH8CE,CAAC,mBAAT,MAA4B,IAA5B,IAA4B,EAAA,KAAA,KAAA,CAA5B,GAA4B,KAAA,CAA5B,GAA4B,EAAA,CAAA,IAAA,CAA5B,QAA4B,CAA5B;AACH,AG9CD,KHyCmB,CAAnB,EGzCM,IAAI,GAAG,EAAb;AHgDH,AE8CG,AC7FA,QAAM,GAAG,CD6FD,EC7FI,CD6FZ,IC7FiB,CAAC,GAAN,CAAU,GAAV,CAAc,OAAO,CAArB,EAAwB,OAAO,CAA/B,EAAkC,KAAlC,CAAwC,EAAxC,CAAZ;AHgDP,AE8CW,AC7FJ,IAAA,GAAG,CAAC,GD6FK,IAAL,EC7FJ,CAAc,GAAG,CAAC,CAAlB,EAAqB,GAAG,CAAC,CAAzB;AD8FQ,AC7FR,IAAA,GAAG,CAAC,OD6FW,EC7Ff,GAAgB,KAAK,CAAC,KAAtB;AHJR,AEkGoB,AC7FZ,OHLR,CAAA,CGKa,CD6FO,MAAM,AC7FlB,CAAa,CHLrB,AEkG4B,AC7FpB,EAAgB,CHLxB,AGKQ,ED4Fe,AC5FI,IAAI,GAAG,CHLlC,EGKQ,EAA+B,GAA/B,EAAoC,GAApC;AD8FY,AC5FZ,IAAA,GAAG,CAAC,ED4FQ,IAAI,EAAE,CAAC,AC5FnB,CD4FoB,IAAF,EAFH;AFlCvB,AEqCoB,AC5FZ,IAAA,GAAG,CAAC,CHuDH,CEqCW,EAAE,AC5Fd,CAAS,CD4FO,AC5FN,CD4FO,CAAC,EC5FT,GD4FO,AC5FC,GAAjB,EAAsB,CAAtB,CHuDR,CAA6B,AGvDI,IHuDjC,AGvDQ,EHuDkC,AGvDH,IAAI,GAAG,CHuD9C,EAAuE,AGvD/D,IHuDR,EAAqF,QAArF,EAAqG;AEkC9E,ACxFf,IAAA,GAAG,CAAC,CDwFI,QCxFR;AACA,IAAA,GAAG,CAAC,IAAJ;AHsDJ,AEsCQ,MFtCF,KEsCO,MAAL,CFtCU,GAAA,CAAA,EAAA,GAAI,QAAQ,GAAG,QAAQ,CAAC,QAAZ,GAAuB,EAAnC,MAAsC,IAAtC,IAAsC,EAAA,KAAA,KAAA,CAAtC,GAAsC,EAAtC,GAA0C,EAA5D;AACA,AEsCY,AC3FR,EHqDJ,IAAI,CAAC,EGrDI,IAAI,CAAC,CHqDd,AEsCmB,CFtCL,CGrDG,CAAb,EAAgB,CAAC,EHqDrB,CAAsB,AGrDE,CAApB,EAAuB,CAAC,EAAxB,EAA4B,EHqDT,CAAD,EAAI,CAAJ,EAAK;AACvB,AEsCY,AC3FR,IHqDJ,IAAI,CAAC,CAAD,AEsCQ,CC3FH,CHqDD,IEsCU,EAAE,AC3FhB,CAAa,CAAC,GD0FH,CFrCK,AGrDH,CHqDI,CAAD,CAAhB,AGrDqB,EHqDA,CAArB,AGrDa,CHqDjB,EGrD+B,IAAI,GAAG,CAArB,GAA0B,IAAI,GAAG,CAAR,GAAa,CAAnD,EAAsD,IAAI,GAAG,GAA7D,EAAkE,IAAI,GAAG,CAAzE,EAA4E,CAA5E,EAA+E,GAA/E;AHsDP,AEsCe,AC3FX,GHmDL,EGnEsB,CAmBlB,IDwFY,IAAI,EAAE,CAAC,CAAC,KAAF,EAFH;AAGH,UAAA,EAAE,EAAE,CAAC,CAAC,IAAF;AFtCpB,AEmCmB,MFnCf,CAAC,EEmCO,MFnCR,IAAa,IAAI,CAAC,QAAL,CAAc,MAAd,GAAuB,YAAY,CAAC,MAArD,EAA6D;AACzD,AGnDA,QAAM,OAAO,GAAG,IAAI,GAAG,IAAvB;AHoDH,AEsCO,ACzFJ,QAAM,GDyFG,KCzFK,CDyFV,ECzFa,OAAO,GAAG,GAA3B;AD0FQ,ACzFR,IAAA,GAAG,CAAC,ODyFW,ECzFf,GAAgB,OAAhB;AHmDJ,AEuCgB,ACzFZ,OHkDC,EGlDI,CDyFO,CFvCP,CAAC,GAAG,CEuCS,ACzFlB,CAAa,CDyFO,ACzFN,CHkDD,CAAC,CGlDD,EDwFE,CCxFK,IHkDX,AGlDT,CHkDuB,CGlDG,CAAC,IHkD/B,AGlD8B,EHkDK,CAAC,AGlDE,GHkDC,CGlDnC,EAAwC,OAAxC,EHkD+C,AGlDE,CHkDD,IGlDM,CAAC,CHkD3D,EAA4D,AGlDxD,CHkDyD,EAA7D,EAAiE;AAC7D,AEuCY,ACzFZ,IHkDA,AGlDA,GAAG,CAAC,EDyFQ,EFvCJ,CAAC,CEuCO,EAAE,CAAC,ACzFnB,CDyFoB,ECzFJ,EDyFE,EAFH,CFrCM,CAAC,CAAD,AGlDrB,CHkDQ,EAAkB,CAAlB,CAAR;AACH,AEuCe,ACzFZ,SAAK,CDyFO,EAAE,EAAE,CAAC,CAAC,ACzFlB,CAAa,IDyFG,ECzFG,IAAnB,EAAyB,CAAC,IAAD,GAAQ,IAAjC,EAAuC,OAAvC,EAAgD,KAAK,CAAC,GAAtD,EAzBkB,CA0BlB;AHkDP,AEmCsB,SAAP;ACnFR,IAAA,GAAG,CAAC,cAAJ;AHkDR,AEsCY,ACvFP,GA7BD,MH8EK,EEsCQ,OAAL,EFtCZ,CAAqB,OAArB,EAA2C,KAA3C,EAAqE;AACjE,AEsCY,MFtCR,KAAK,CAAC,GEsCS,EFtCnB,EAAiB,MAAM,CAAC,MAAP,CAAc,OAAO,CAAC,KAAtB,EAA6B,KAAK,CAAC,KAAnC;AACjB,AEsCgB,ACvFhB,EAAA,IHiDI,IEsCY,CFtCP,CAAC,EGjDV,CAAA,CDuFsB,EAAE,CFtCxB,EAAmB,EEqCA,CCtFnB,CAAA,GHiD0B,CAAC,GGjD3B,GAAA,CHiDmB,GAAkB,MGjD7B,CAAR,EAAmB,CHiDmB,AGjDtC,CHiDqC,CGjDP,CHiDS,KGjDvC,EAA8C,UAA9C,EAAkE,QAAlE,EAAkF;AHiDtC,AEuC5B,ACvFJ,QAAA,EDuFI,CFvC4B,AGhD7B,GDuFK,ACvFA,EHgD6B,AEuC3B,CFvC4B,AEuC3B,CAAC,CCvFA,GAAZ,CDuFU,CFvCsB,CAAc,AEqCvC,CFrCyB,CAAA;AAAgB,AEwC5C,ACvFZ,GH+Ce,KG/CX,CAAC,CDuFO,EAAE,ACvFd,EDuFgB,ACvFN,CDuFO,CAAC,IAAF;AFvCpB,AEoCmB,AClFf,MH8CA,EG9CM,CDkFE,EFpCH,CAAC,EG9CM,GAAG,GH8CnB,CG9CuB,CH8CH,AG9CI,EAAL,GAAU,CAAV,CH8CQ,CAAC,EG9CM,IAAI,CH8ClB,EG9CD,CH8CmB,AG9ClC,UH8CmC,CAAD,EAAE;AAAK,AEgBzC,AC5DA,IAAA,GAAG,CAAC,GH4CqC,KAAK,CAAC,AG5C/C,QH4CyC,CAAe,CAAf,CAAA;AAAiB,AE0C7D,ACrFG,GH2CgB,AEcpB,CCzDI,GAAG,CAAC,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,MAAd,EAAsB,MAAM,GAAG,UAA/B,EAA4C,MAAM,GAAG,QAArD;AH6CJ,AG5CI,IAAA,EH4CE,CG5CC,CAAC,SAAJ,EH4Ce,GAAG,IAAI,GAAJ,CAAQ,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,EAA4B,IAA5B,EAAkC,OAAlC,CAAR,CAAtB;AACA,AEyCA,ACrFI,EH4CJ,AEyCA,ECrFI,GDqFJ,ACrFO,CH4CD,AEyCN,ACrFQ,CH4CD,GG5CH,CH4CJ,CAAY,GEyCZ,CAAA,CFzCA,EAAmB,OAAnB,CAA2B,GEyC3B,GAAA,IFzC2B,CAAA,EAAC,GEyCb,CAAf,EAAsB,OAAtB,EAAiC;AFxC7B,AEyCA,ACrFH,GAVD,KHsDQ,aAAa,CAAC,GAAd,CAAkB,CAAlB,CAAJ,EAA0B;AACtB,AEyCJ,MFzCI,EEyCA,KFzCO,AEyCF,CFzCG,CAAD,CAAP,GAAa,KAAK,CAAC,CAAD,CAAlB,AEyCA,CAAoB,CAAC,CAAC,IAAF,CAAO,OAAP,CAApB,CAAJ,EAA0C,OAAO,OAAP;AFxCzC,AE0CD,ACtFJ,EAAA,MDsFU,GAAG,GAAG,ACtFhB,CAAA,MDsFuB,CAAC,ECtFxB,CAAA,IDsFuB,CAAnB,ECtFJ,GAAA,UAAQ,CAAR,EAAmB,CAAnB,EAA8B,IAA9B,EAA4C,GAA5C,EAAmD;AH6ClD,AE0CG,ACtFQ,GHwCZ,KE8CU,ACtFE,GAAG,GAAK,KDsFC,ACtFG,GDsFA,ACtFZ,KDsFiB,oBAAL,CAA0B,CAA1B,EAA6B,GAAG,CAAC,GAAjC,CAApB;AFzCP,AG5CO,QAAI,CAAC,GAAL,EAAU;ADsFV,ACpFA,IAAA,GAAG,CDoFC,ACpFA,SAAJ,EDoFe,CAAC,ACpFA,MDoFhB,CCpFA,CDoFwB;AFxChC,AEyCY,ACpFJ,SH2CC,AG3CI,CDoFK,QAAQ,ECpFlB,CDoFqB,ACpFJ,CAAjB,EAAoB,CAApB,EAAuB,CH2C/B,AEyCoC,CFzCP,AEyCQ,ECpF7B,CDoFgC,CFzCxC,AEyCyC,ACpFJ,EH2CmB,CEyCpB,CAAxB,ACpFJ,EH2CR,EAAiF;AAC7E,AEyCQ,ACpFJ,IAAA,EH2CE,CG3CC,CAAC,EDoFI,IFzCE,CEyCG,EFzCA,AG3Cb,GAAgB,GH2CG,CAAC,GG3CpB,CH2Ca,CAAY,AEyCjB,CAAoB,CAAC,CAAC,CFzCjB,CAAjB,EEyCgC,CAAO,QAAP,CAApB,CAAJ,EAA2C,OAAO,QAAP;AFxCnD,AEyCQ,ACpFJ,MH2CE,EG3CI,KDoFK,CFzCD,GAAG,AG3CE,GAAG,CH2CD,CEyCb,EFzCS,AG3CS,CH2CD,EG3CI,GAAzB,CH2C2B,CAAC,IAAP,CAAY,IAAZ,CAAR,CAAjB;AACA,AEyCK,ACpFD,KDgFA,CFrCA,GG3CK,EDoFE,GFzCC,CAAC,KG3CT,CH2CA,AG3CiB,CAAC,GAAG,CH2CD,EG3CI,CAAC,CAAJ,GAAQ,CH2CD,CAAC,IAAjC,EAAuC,CG3CnC,EAAwC,CAAC,GH2CC,AG3CE,GAAG,CAAC,CH2Cb,AG3CS,GAAQ,SAApD,EAA+D,SAA/D,EAA0E,SAA1E;ADqFI,ACpFP,GATD;AHqDA,AEyCQ,OFzCU,GEyCJ,CFzCI,EAAA,GAAA,CAAA,EAAA,CEyCM,GAAG,MFzCT,GAAA,EEyCoB,CAAC,EAA/B,GFzCR,EAAkB,EAAA,GAAA,UAAA,CAAA,MAAlB,EAAkB,EAAA,EAAlB,EAA4B;AAAvB,AG1CL,EAAA,MH0CW,GAAG,GAAA,AG1Cd,CAAA,SH0Cc,AG1Cd,CH0Cc,AG1Cd,EH0Cc,CAAT,QG1CL,GAAA,UAAY,CAAZ,EAAuB,CAAvB,EAAkC,IAAlC,EAAgD,IAAhD,EAA4D;AH2CxD,AEyCI,ACnFI,QH0CJ,AG1CI,CH0CH,CEyCG,CCnFG,GAAK,CDmFH,EFzCA,CAAC,CG1CM,EH0Cf,CAAa,AG1CV,GH0CH,CAAL,EAAwB,CEyChB,CAAoB,KFzCG,KAAP,AEyChB,CAAJ,EAAqC;AFxCzC,AEyCQ,ACnFR,QH0CM,AG1CF,CAAC,CH0CG,EG1CR,CH0CW,CG1CD,CDmFK,EFzCA,CAAC,GAAD,CAAf,GEyCyB,CAAC,IAAX,CAAgB,CAAhB,CAAP;AFxCR,AEyCK,AClFL,IAAA,GAAG,CHyCG,AGzCF,EHyCI,GAAG,IAAI,AGzCf,CHyCgB,GAAD,CAAf;AACA,AGzCA,IAAA,GAAG,CHyCC,AGzCA,EHyCE,KAAK,AGzCX,CAAY,CHyCZ,AGzCA,EHyCe,AGzCA,CAAf,EAAkB,IHyCI,AGzCtB,EAAwB,GHyCT,CGzCf,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,GAApC;AH0CH,AEwCO,ACjFJ,IAAA,GAAG,CAAC,KDiFO,ICjFX,KDiFI;AACH,ACjFD,IAAA,GAAG,CAAC,IAAJ;AHyCJ,AEyCC,ACjFA,GD+DD,ACvEA,MHgDO,IAAP;AACH;AE0CG,AClFJ,EDkFI,KAAA,CAAA,CClFJ,QDkFI,CAAA,GClFJ,QDkFI,GAAA,UAAY,CAAZ,EAAmB,OAAnB,EAA8B;AFxClC,AEyCQ,ACvPR,CAAA,CAA2B,MDuPb,ACvPmB,CH8MjB,AG9MkB,CDuPlB,GFzChB,AEyCmB,CFzCE,AEyCD,CAAC,GFzCrB,AG9MA,CDuPmB,ACvPnB,CH8MkC,AEyCR,OAAP,CAAX,CFzCR,EAAwD;AACpD,AEyCI,EFzCJ,IAAI,CAAC,CEyCG,KFzCR,AEyCa,GFzCC,IAAd,OEyCQ,CAAoB,EAApB,CAAJ,EAA6B,OAAO;AFxCxC,AEwC0C,AClF9C,EH0CI,EG1CE,EDkFwC,IAAI,EFxCpC,AEwCsC,CFxCrC,GEwC6B,CFxC9B,CAAV,IG1CoB,GAAG,SAArB,kBAAqB,CAAC,EAAD,EAK1B;AHsCG,AEuCsD,EFvCtD,IEuCsD,AClF5B,CAAC,GAAA,CH2ClB,CAAC,AEuCkD,AClFjC,CAAA,CDkFmC,SFvC9D,CAAsB,IAAI,CAAC,KAA3B;AACA,AEsCwC,EFtCxC,GEsCiC,CFtC7B,AG5CyB,CH4CxB,AG5CyB,GAAA,CH4C9B,CG5C8B,CAAA,CH4ClB,S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","file":"index.js","sourceRoot":"..","sourcesContent":["export class VElem {\n    type: string;\n    props: { [k: string]: any };\n    children: VElem[];\n    isTextNode: boolean;\n    value?: string;\n    _name?: string;\n    _parent?: VElem;\n    _elem?: HTMLElement | Text;\n    _dom?: HTMLElement;\n    isRoot: boolean = false;\n    componentDidMount?: () => void;\n    componentDidUnmount?: () => void;\n\n    constructor(type: string, props: object = {}, children: VElem[] = [], value?: string) {\n        this.type = type;\n        this.props = props;\n        this.children = children;\n        this.isTextNode = this.type === 'text-node';\n        this.value = value;\n    }\n\n    toString() {\n        if (this.isTextNode) {\n            return this.value.toString();\n        }\n        const { props, type, children } = this;\n        return `<${type} props=\"${JSON.stringify(props)}\">\n                        ${children.map(c => c.toString()).join('\\n')}\n                </${type}>\n        `;\n    }\n\n    getElem(): { type: 'text', e: Text } | { type: 'elem', e: HTMLElement } | undefined {\n        if (!this._elem) return undefined;\n        if (this.isTextNode) return { type: 'text', e: this._elem as Text };\n        return { type: 'elem', e: this._elem as HTMLElement };\n    }\n\n}\n\nexport function Text(v: string) {\n    return new VElem('text-node', {}, [], v);\n}\n\nexport abstract class Component<Props extends object, State extends object> {\n    props: Props;\n    state?: State;\n\n    _vnode?: VElem;\n    paint?: (x: Component<Props, State>) => void;\n    componentDidMount?: () => void;\n    componentDidUnmount?: () => void;\n\n    constructor(props: Props) {\n        this.props = props;\n    }\n\n    setState(s: Partial<State>) {\n        if (this.state) {\n            this.state = {\n                ...this.state,\n                ...s,\n            };\n            this.paint?.(this);\n        }\n    }\n\n    abstract render(): VElem;\n}\n\n(Component.prototype as unknown as any).__isComponent = true;\n\ntype ComponentConstructor<P extends object, S extends object> = new(p: P) => Component<P, S>;\n\ntype ComponentType<P extends object, S extends object> =\n    | string // eg. div, img, href\n    | ComponentConstructor<P, S>\n    | ((props: P | undefined) => VElem);\n\nfunction createVElement<P extends object, S extends object>(node: ComponentType<P, S>, props: P, children?: VElem[]) {\n    const asAny = node as unknown as any;\n    if (asAny.prototype && asAny.prototype.__isComponent) {\n        const C = node as ComponentConstructor<P, S>;\n        const c: Component<P, S> = new C({\n            ...props,\n            children,\n        });\n        c.paint = x => repaint(x);\n        c._vnode = c.render();\n        c._vnode._name = c.constructor.name\n        if (c.componentDidMount) {\n            c._vnode.componentDidMount = () => c.componentDidMount();\n        }\n        if (c.componentDidUnmount) {\n            c._vnode.componentDidUnmount = () => c.componentDidUnmount();\n        }\n        return c._vnode;\n    } else if (typeof node === 'function') {\n        const F = node as (p: P) => VElem;\n       return F({\n           ...props,\n           children,\n       });\n    }\n    return new VElem(node, props, children);\n}\n\nfunction repaint<P extends object, S extends object>(c: Component<P, S>) {\n    const oldTree = c._vnode;\n    const newTree = c.render();\n    newTree.componentDidMount = oldTree.componentDidMount;\n    newTree.componentDidUnmount = oldTree.componentDidUnmount;\n    // console.log(oldTree.toString());\n    // console.log(newTree.toString());\n    const parent = oldTree?._parent;\n    \n    modifyTree(newTree, parent, oldTree);\n    c._vnode = newTree;\n    if (oldTree?.isRoot) {\n        const domParent = oldTree._dom;\n        domParent.replaceChild(newTree._elem, oldTree._elem);\n        newTree.isRoot = true;\n        newTree._dom = domParent;\n    }\n}\n\nexport function Node<P extends object, S extends object>(type: ComponentType<P, S>, props: P = {} as P, children: VElem[] = []) {\n    return createVElement(type, props, children);\n}\n\nexport function modifyTree(tree: VElem, parent?: VElem, prevTree?: VElem) {\n    const { props, children, type } = tree;\n    if (prevTree && prevTree.type === type && children.length === prevTree.children.length) {\n        // replace attributes\n        const pte = prevTree.getElem()!;\n        if(!objectsShallowEqual(props, prevTree.props) && pte.type === 'elem') assignProps(pte.e, props);\n        tree._elem = pte.e;\n        tree._parent = prevTree._parent;\n\n        if (tree.isTextNode && pte.type === 'text') {\n            pte.e.data = tree.toString();\n        } else {\n            loopThroughChildren(tree, prevTree, (c, pc, i) => {\n                modifyTree(c, tree, pc);\n            }, (pc, i) => {\n                prevTree._elem.removeChild(pc._elem);\n                prevTree.componentDidUnmount?.();\n            });\n        }\n    } else {\n        // replace this node and all children\n\n        const element = tree.isTextNode\n            ? document.createTextNode(tree.value)\n            : document.createElement(type);\n        tree._elem = element;\n        tree._parent = parent;\n        if (prevTree) {\n            prevTree._parent._elem.replaceChild(element, prevTree._elem);\n            prevTree.componentDidUnmount?.();\n        } else if (parent) {\n            parent._elem.appendChild(element);\n        }\n        tree.componentDidMount?.();\n        const te = tree.getElem();\n        if (te && te.type === 'elem')\n            assignProps(te.e, props);\n\n        if (props.ref) {\n            props.ref(tree._elem);\n        }\n\n        loopThroughChildren(tree, prevTree, (c, pc, i) => {\n            modifyTree(c, tree, undefined);\n        }, (pc, i) => {\n            prevTree._elem.removeChild(pc._elem);\n            prevTree.componentDidUnmount?.();\n        });\n\n    }\n}\n\ntype BothFn = (\n    child: VElem,\n    prevChild: VElem | undefined,\n    index: number,\n) => void;\n\ntype PrevFn = (\n    prevChild: VElem,\n    index: number,\n) => void;\n\nfunction loopThroughChildren(tree: VElem, prevTree: VElem | undefined, both: BothFn, prevOnly: PrevFn) {\n    const prevChildren = (prevTree ? prevTree.children : []) ?? [];\n    tree.children.forEach((c, i) => {\n        both(c, prevChildren[i], i);\n    });\n    if (!prevTree || tree.children.length > prevChildren.length) {\n        return;\n    }\n    for (let i = tree.children.length; i < prevChildren.length; i++) {\n        prevOnly(prevChildren[i], i);\n    }\n}\n\nfunction assignProps(element: HTMLElement, props: Record<string, any>) {\n    if (props.style) Object.assign(element.style, props.style);\n    if (props.onClick) element.onclick = (e) => props.onClick(e);\n    if (props.onChange) element.oninput = (e) => props.onChange(e);\n\n    const rawAttributes = new Set(['width', 'height', 'href', 'id', 'value']);\n    Object.keys(props).forEach(k => {\n        if (rawAttributes.has(k)) {\n            element[k] = props[k];\n        }\n    });\n}\n\nfunction objectsShallowEqual(obj1: Record<string, any>, obj2: Record<string, any>) {\n    const obj1Keys = Object.keys(obj1);\n    const obj2Keys = new Set(Object.keys(obj2));\n    if (obj1Keys.length !== obj2Keys.size) return false;\n    \n    for (const key of obj1Keys) {\n        if (!obj2Keys.has(key)) return false;\n        const v1 = obj1[key];\n        const v2 = obj2[key];\n        if (v1 !== v2) return false;\n    }\n    return true;\n}\n\nexport function Init(node: VElem, domParent: HTMLElement) {\n    node.isRoot = true;\n    modifyTree(node);\n    domParent.appendChild(node._elem);\n    node._dom = domParent;\n}\n","export const Radians2Degrees = 180 / Math.PI;\n\nexport class Pt {\n    constructor(public x: number = 0, public y: number = 0) {\n    }\n\n    copy() {\n        return new Pt(this.x, this.y);\n    }\n\n    toString() {\n        return `<${this.x}, ${this.y}>`\n    }\n\n    floor() {\n        return new Pt(Math.floor(this.x), Math.floor(this.y));\n    }\n\n    ceil() {\n        return new Pt(Math.ceil(this.x), Math.ceil(this.y));\n    }\n\n    round() {\n        return new Pt(Math.round(this.x), Math.round(this.y));\n    }\n\n    scale(v: number): Pt {\n        return new Pt(this.x * v, this.y * v);\n    }\n\n    addY(yv: number): Pt {\n        return new Pt(this.x, this.y + yv);\n    }\n\n    add(x: number, y: number): Pt {\n        return new Pt(this.x + x, this.y + y);\n    }\n\n    addP({ x, y }: Pt): Pt {\n        return new Pt(this.x + x, this.y + y);\n    }\n\n    subP({ x, y }: Pt): Pt {\n        return new Pt(this.x - x, this.y - y);\n    }\n\n    eq(p: Pt) {\n        return this.x === p.x && this.y === p.y;\n    }\n    \n\n    static fromAngle(angle: number) {\n        const rv = new Pt(0, 0);\n        angle /= Radians2Degrees;\n        rv.x = Math.cos(angle);\n        rv.y = Math.sin(angle);\n        return rv;\n    }\n\n    getAngle() {\n        let angle: number = Radians2Degrees * Math.atan(this.y / this.x);\n        if (this.x < 0.0)\n            angle += 180.0;\n        else if (this.y < 0.0)\n            angle += 360.0;\n        return angle;\n    }\n\n    mag() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n\n    unit() {\n        return this.scale(1 / this.mag());\n    }\n}\n","import { Pt } from './pt';\n\nconst halfLevel1 = `# level 1\n+-------+---------   \n|       |        |   \n|       |        |   \n|       |        |   \n|       |        |   \n+-----------+----+---\n|       |   |        \n|       |   |        \n|       |   |        \n|       |   +---+    \n|       |       |    \n|       |       |    \n|       |       |    \n+-------+   +---+---+\n        |   |       g\n        |   |       g\n        |   |       g\n        |   |       g\n        |   |       g\nt---p-------+   ggggg\n        |   |        \n        |   |        \n        |   |        \n        |   +--------\n        |   |        \n        |   |        \n+-----------+-------+\n|       |           |\n|       |           |\n|       |           |\n|       |           |\n+---+   +----+------+\n    |   |    |       \n    |   |    |       \n    |   |    |       \n+---+---+    +--+    \n|               |    \n|               |    \n|               |    \n+---------------+----\n`;\nexport const level1 = halfLevel1\n    .split('\\n')\n    .map(line => {\n        if (line.startsWith('#')) return line;\n        const secondHalf = line\n            .substring(0, line.length - 1)\n            .split('')\n            .reverse()\n            .map((v: string) => {\n                if (v === 'p' || v === 't') return '+';\n                return v;\n            })\n            .join('');\n        return line + secondHalf;\n    })\n    .join('\\n');\n\ntype Dir = 'up' | 'down' | 'left' | 'right';\ntype Vel =  { dir: Dir, amount: number };\ntype Straddle =\n    | { isRail: true, from?: never, to?: never }\n    | { isRail: false, from: Pt, to: Pt };\n\nfunction ptToVel(p: Pt): Vel {\n    const amount = p.mag();\n    if (p.x) {\n        if (p.x < 0) return { dir: 'left', amount };\n        return { dir: 'right', amount };\n    } else {\n        if (p.y < 0) return { dir: 'up', amount };\n        return { dir: 'down', amount };\n    }\n}\n\nfunction dirToPt(v: Dir): Pt {\n    switch (v) {\n        case 'up': return new Pt(0, -1);\n        case 'down': return new Pt(0, 1);\n        case 'left': return new Pt(-1, 0);\n        case 'right': return new Pt(1, 0);\n    }\n}\n\nfunction oppositeDir(v: Dir): Dir {\n    switch (v) {\n        case 'up': return 'down';\n        case 'down': return 'up';\n        case 'left': return 'right';\n        case 'right': return 'left';\n    }\n}\n\nfunction velToPt(v: Vel): Pt {\n    return dirToPt(v.dir).scale(v.amount);\n}\n\nexport class Level {\n    level: string[][];\n    w: number;\n    h: number;\n\n    constructor(levelString: string) {\n        this.level = levelString\n            .split('\\n')\n            .slice(1)\n            .map((s: string) => s.split(''));\n        this.w = this.level[0].length;\n        this.h = this.level.length;\n    }\n\n    static createLevel1() {\n        return new Level(level1);\n    }\n\n    isPath(x: number, y: number) {\n        const v = this.getV(x, y);\n        return v && v !== ' ';\n    }\n\n    isPathP(p: Pt) {\n        return this.isPath(p.x, p.y);\n    }\n\n    getV(x: number, y: number): string | undefined {\n        if (x < 0 || x >= this.w || y < 0 || y >= this.h) return undefined;\n        const v = this.level[y][x];\n        return v;\n    }\n\n    getLocationsOfChar(ch: string): Pt[] {\n        const out: Pt[] = [];\n        this.forEach((v: string | undefined, x: number, y: number) => {\n            if (v === ch) {\n                out.push(new Pt(x, y));\n            }\n        });\n        return out;\n    }\n\n    getRandomLocationOfChar(ch: string): Pt {\n        const locations = this.getLocationsOfChar(ch);\n        const index = Math.floor(Math.random() * locations.length);\n        return locations[index];\n    }\n\n    forEach(f: (v: string | undefined, x: number, y: number) => void) {\n        for (let y = 0; y < this.h; y++) {\n            for (let x = 0; x < this.w; x++) {\n                f(this.getV(x, y), x, y);\n            }\n        }\n    }\n\n    getClosestRailPoint(p: Pt) {\n        return p.round();\n    }\n\n    nearARailPoint(p: Pt): boolean {\n        const xD = Math.abs(p.x - Math.round(p.x));\n        const yD = Math.abs(p.y - Math.round(p.y));\n        const maxD = 0.08;\n        if (xD > maxD || yD > maxD) return false;\n        return true;\n    }\n\n    isLegalPosition(p: Pt) {\n        return p.x % 1 === 0 || p.y % 1 === 0;\n    }\n\n    isRailPoint(p: Pt) {\n        return p.x % 1 === 0 && p.y % 1 === 0;\n    }\n\n    isSafePosition(p: Pt) {\n        return this.isLegalPosition(p) && this.isPathP(p.floor()) && this.isPathP(p.ceil());\n    }\n\n    surroundingPaths(pIn: Pt) {\n        const p = this.getClosestRailPoint(pIn);\n        let count = 0;\n        this.forSurroundingPoints(p, (_, __, v) => {\n            count += v && v !== ' ' ? 1 : 0;\n        });\n        return count;\n    }\n\n    onALinearPath(pIn: Pt) {\n        const p = this.getClosestRailPoint(pIn);\n        const st = new Map<Dir, boolean>();\n        this.forSurroundingPoints(p, (d, x, v) => {\n            if (v && v !== ' ') st.set(d, true);\n        });\n        return (st.get('up') && st.get('down') && !st.get('left') && !st.get('right'))\n            || (!st.get('up') && !st.get('down') && st.get('left') && st.get('right'));\n    }\n\n    deadEnd(p: Pt) {\n        return this.surroundingPaths(p) === 1;\n    }\n\n    forSurroundingPoints(p: Pt, f: (dir: Dir, p: Pt, v: string | undefined) => void) {\n        const dirArr: Dir[] = ['up', 'down', 'left', 'right'];\n        dirArr\n            .forEach((dir: Dir) => {\n                const x = p.addP(dirToPt(dir));\n                f(dir, x, this.getV(x.x, x.y));\n            });\n    }\n\n    getDirectionOptions(p: Pt): Dir[] {\n        const rp = this.getClosestRailPoint(p);\n        const possibles: Dir[] = ['up', 'down', 'left', 'right'];\n        return possibles.filter(d => {\n            const v = dirToPt(d);\n            const x = rp.addP(v);\n            if (this.isPathP(x)) return true;\n            return false;\n        });\n    }\n\n    getStraddlePositions(p: Pt, dir: Dir): Straddle {\n        if (this.isRailPoint(p)) return { isRail: true };\n        switch (dir) {\n            case 'up':\n                return {\n                    isRail: false,\n                    from: p.ceil(),\n                    to: p.floor(),\n                };\n            case 'down':\n                return {\n                    isRail: false,\n                    from: p.floor(),\n                    to: p.ceil(),\n                };\n            case 'left':\n                return {\n                    isRail: false,\n                    from: p.ceil(),\n                    to: p.floor(),\n                };\n            case 'right':\n                return {\n                    isRail: false,\n                    from: p.floor(),\n                    to: p.ceil(),\n                };\n        }\n    }\n\n    getRailMoveVec(p: Pt, moveVec: Pt): Pt | undefined {\n        // if moving is safe -> return vec\n        if (this.isSafePosition(p.addP(moveVec))) return moveVec;\n        \n        const vel = ptToVel(moveVec);\n        const straddlePos = this.getStraddlePositions(p, vel.dir);\n        if (straddlePos.isRail) {\n            const safeMove = dirToPt(vel.dir);\n            if (this.isSafePosition(p.addP(safeMove))) return safeMove;\n            return undefined;\n        } else {\n            // else -> fix vec so movemag is equal to dist to next straddle of p\n            const newSafePos = straddlePos.to;\n            if (this.isSafePosition(newSafePos)) {\n                return newSafePos.subP(p);\n            }\n            return undefined;\n        }\n    }\n\n    getSafeMove(p: Pt, moveVec: Pt): { safe: false } | { safe: true, newPos: Pt } {\n        const to = p.addP(moveVec);\n        if (this.isSafePosition(to)) return { safe: true, newPos: to };\n        const modifiedMove = this.getRailMoveVec(p, moveVec);\n        if (modifiedMove) {\n            return { safe: true, newPos: p.addP(modifiedMove) };\n        }\n        return { safe: false };\n    }\n\n}\n\nexport class Agent {\n    constructor(public pos: Pt, public dir: Pt, public level: Level) {\n    }\n\n    getClosestRailPoint() {\n        return this.level.getClosestRailPoint(this.pos);\n    }\n\n    nearARailPoint(): boolean {\n        return this.level.nearARailPoint(this.pos);\n    }\n}\n\nexport class Pacman extends Agent {\n    mouthOpenPerc: number = 0;\n\n    constructor(pos: Pt, dir: Pt, level: Level) {\n        super(pos, dir, level);\n    }\n\n    static create(lvl: Level) {\n        return new Pacman(\n            lvl.getLocationsOfChar('p').pop(),\n            new Pt(1, 0),\n            lvl,\n        );\n    }\n}\n\nexport class Ghost extends Agent {\n    lastGate?: Pt; // the last rail point the ghost made a decision to move from\n    constructor(pos: Pt, dir: Pt, level: Level, public color: string, public scared: boolean) {\n        super(pos, dir, level);\n    }\n\n    static create(lvl: Level, color: string) {\n        return new Ghost(\n            // lvl.getRandomLocationOfChar('g'),\n            new Pt(22, 19),\n            new Pt(1, 0),\n            lvl,\n            color,\n            false,\n        );\n    }\n\n    lastMovedFromHere() {\n        if (!this.lastGate) return false;\n        const closestRailPoint = this.level.getClosestRailPoint(this.pos);\n        return closestRailPoint.eq(this.lastGate);\n    }\n\n    tick(dt: number) {\n        if (this.level.nearARailPoint(this.pos)) this.pos = this.level.getClosestRailPoint(this.pos);\n        if (((this.level.nearARailPoint(this.pos) && !this.lastMovedFromHere()) && (!this.level.onALinearPath(this.pos)))) {\n            // const shouldChange = Math.random() < 0.6;\n            if (true) {\n                this.pos = this.level.getClosestRailPoint(this.pos);\n                const options = this.level.getDirectionOptions(this.pos);\n                if (options.length) {\n                    const randomDir = options[Math.floor(Math.random() * options.length)];\n                    this.dir = dirToPt(randomDir);\n                    this.lastGate = this.level.getClosestRailPoint(this.pos).round();\n                }\n            }\n\n        }\n        const vel = this.dir.scale(dt * 0.005);\n        const outcome = this.level.getSafeMove(this.pos, vel)\n        if (outcome.safe) {\n            this.pos = outcome.newPos;\n        } else {\n            this.pos = this.pos.round();\n        }\n    }\n\n\n}\n\nexport class Game {}\n","import * as LReact from '../l_react';\nimport { level1, Level, Game, Pacman, Ghost } from './game';\nimport { Pt } from './pt';\nconst { Node, Text } = LReact;\n\nexport class GameComponent extends LReact.Component<{}, {}> {\n    level: Level;\n\n    constructor(props: {}) {\n        super(props);\n        this.level = Level.createLevel1();\n    }\n    render() {\n        const N = 10;\n        return Node('div', {}, [\n            Text('pacman'),\n            Node(LevelGameContainer, {\n                N: 10,\n                w: this.level.w,\n                h: this.level.h,\n            }, [\n                Node(RenderedLevel, { level: this.level }),\n                Node(AnimatedGame, { level: this.level }, []),\n            ])\n        ]);\n    }\n}\n\nclass AnimatedGame extends LReact.Component<{ level: Level }, {}> {\n    ctx?: CanvasRenderingContext2D;\n    pacman: Pacman;\n    ghosts: Ghost[];\n    constructor(props) {\n        super(props);\n        this.pacman = Pacman.create(props.level);\n        this.ghosts = [\n            Ghost.create(props.level, 'red'),\n            Ghost.create(props.level, 'blue'),\n            Ghost.create(props.level, 'yellow'),\n            Ghost.create(props.level, 'purple'),\n        ];\n    }\n\n    render() {\n        const { level } = this.props;\n        return Node('canvas', {\n            ref: this.canvasSet,\n            width: (level.w+1) * 10,\n            height: level.h * 10,\n            style: {\n                width: `${(level.w+1) * 10}px`,\n                height: `${level.h * 10}px`,\n                border: '1px dashed white',\n                position: 'absolute',\n                zIndex: 2,\n            },\n        });\n    }\n\n    canvasSet = (canvas: HTMLCanvasElement) => {\n        const ctx = canvas.getContext('2d');\n        this.ctx = ctx;\n        this.gameLoop();\n\n        // ctx.fillStyle = 'yellow';\n        // ctx.arc(30, 30, 20, 0, Math.PI * 2 * 0.25);\n        // ctx.fill();\n        // ctx.closePath();\n        // console.log(this.pacman.pos)\n        \n    }\n\n    gameLoop() {\n        const test = new Pt(20, 16);\n        let _test = '';\n        this.props.level.forEach((v, x, y) => {\n            if (x === 0 && y !== 0) _test += '\\n';\n            _test += v;\n        });\n        console.log(_test);\n        console.log('YAAAA', this.props.level.getV(test.x, test.y + 3));\n        let prevDelta = 0;\n        const loop = (delta: number) => {\n            const { ctx } = this;\n            if (!ctx) return;\n            const dt = delta - prevDelta;\n            prevDelta = delta;\n            this.ghosts.forEach(g => g.tick(dt))\n            \n            ctx.clearRect(0, 0, 400, 400);\n            \n            this.drawPacMan(this.pacman.dir.getAngle(), this.pacman.pos.scale(10).addY(4), 0.05);\n            this.ghosts.forEach(g => this.drawGhost(g));\n\n            this.props.level.forEach((v, x, y) => {\n                if (v === ' ') return;\n                const p = new Pt(x, y).add(1.5, 1.5).scale(10);\n                ctx.fillStyle = 'brown';\n                this.drawEllipse(p.x, p.y, 1, 1);\n            });\n\n            requestAnimationFrame(loop);\n        }\n        requestAnimationFrame(loop);\n    }\n\n    drawPacMan(angle: number, pos: Pt, mouthOpenPerc: number) {\n        const { ctx } = this;\n        if (!ctx) return;\n        const size = 4;\n        ctx.translate(pos.x, pos.y);\n        ctx.rotate(angle / (180 / Math.PI));\n        const bx = mouthOpenPerc * Math.PI * 2;\n        ctx.fillStyle = 'yellow';\n        ctx.beginPath();\n        ctx.arc(0, 0, size, bx, bx + Math.PI);\n        ctx.closePath();\n        ctx.fill();\n        ctx.beginPath();\n        ctx.arc(0, 0, size, Math.PI * 2 - bx - Math.PI, Math.PI * 2 - bx);\n        ctx.closePath();\n        ctx.fill();\n        ctx.beginPath();\n        ctx.arc(0, 0, size, 0.25 * Math.PI * 2, 0.75 * Math.PI * 2);\n        ctx.closePath();\n        ctx.fill();\n        ctx.resetTransform();\n    }\n\n    drawGhost(ghost: Ghost) {\n        const { ctx } = this;\n        if (!ctx) return;\n        const size = 16;\n        const pos = ghost.pos.add(0.45 + 1, 0.15 + 1).scale(10);\n        ctx.translate(pos.x, pos.y);\n        ctx.fillStyle = ghost.color;\n        this.drawArc(0, 0, size * 0.5, 180, 360);\n        \n        ctx.beginPath();\n        ctx.rect(-size * 0.5, 0, size, size * 0.5);\n        ctx.closePath();\n        ctx.fill();\n        \n        for (let i = 0; i < 3; i++) {\n            this.drawArc(-size * 0.5 + size / 6 + (size / 3) * i, size * 0.4, size / 6, 0, 180);\n        }\n\n        \n        // eyes\n        const eyeSize = size * 0.15;\n        const eyeSizeS = eyeSize * 0.5;\n        ctx.fillStyle = 'white';\n        this.drawEye(-0.2 * size, -0.15 * size, eyeSize, ghost.dir);\n        ctx.fillStyle = 'white';\n        this.drawEye(0.2 * size, -0.15 * size, eyeSize, ghost.dir);\n        // this.drawEllipse(0.2 * size, -0.15 * size, eyeSize, eyeSize);\n        \n        ctx.resetTransform();\n    }\n\n    drawArc(x: number, y: number, radius: number, startAngle: number, endAngle: number) {\n        const { ctx } = this;\n        if (!ctx) return;\n\n        const scalar = Math.PI * 2 * (1 / 360);\n        \n        ctx.beginPath();\n        ctx.arc(x, y, radius, scalar * startAngle , scalar * endAngle);\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    drawEye(x: number, y: number, size: number, dir: Pt) {\n        const { ctx } = this;\n        if (!ctx) return;\n\n        ctx.fillStyle = 'white';\n        this.drawEllipse(x, y, size, size);\n        ctx.fillStyle = 'black';\n        const pupilSize = size * 0.5;\n        this.drawEllipse(x + dir.x * pupilSize, y + dir.y * pupilSize, pupilSize, pupilSize);\n    }\n\n    drawEllipse(x: number, y: number, xRad: number, yRad: number) {\n        const { ctx } = this;\n        if (!ctx) return;\n\n        ctx.beginPath();\n        ctx.ellipse(x, y, xRad, yRad, 0, 0, 360);\n        ctx.closePath();\n        ctx.fill();\n    }\n}\n\nconst LevelGameContainer = ({ w, h, N, children }: {\n    w: number,\n    h: number,\n    N: number,\n    children?: LReact.VElem[],\n}) => {\n    return Node('div', {\n        style: {\n            backgroundColor: 'lightblue',\n            padding: '16px',\n            // maxWidth: `${w * N * 0.55 + 32}px`,\n        },\n    }, [\n        Node('div', {\n            style: {\n                width: `${(w+2) * N}px`,\n                height: `${(h+2) * N}px`,\n                position: 'relative',\n                backgroundColor: 'green',\n            },\n        }, children),\n    ]);\n};\n\nfunction RenderedLevel({\n    level,\n}: {\n    level: Level,\n}) {\n    const N = 10;\n    const thick = 2;\n    const halfThick = thick * 0.5;\n    const offset = new Pt(N, N);\n    let blocks = [];\n    for (let y = 0; y < level.h; y++) {\n        for (let x = 0; x < level.w; x++) {\n            if (level.isPath(x, y)) {\n                const center = new Pt(x + 0.5, y + 0.5);\n                const topLeft = center.add(-thick * 0.5, -thick * 0.5);\n                blocks.push(Node(Block, {\n                    top:  topLeft.y * N + offset.y,\n                    left: topLeft.x * N + offset.x,\n                    width:  N * thick,\n                    height: N * thick,\n                    color: 'black',\n                }));\n            }\n        }\n    }\n    return Node('div', {}, [\n        ...blocks,\n    ]);\n}\n\nconst Block = ({\n    top,\n    left,\n    width,\n    height,\n    color = 'blue',\n}: {\n    color?: string,\n    top: number,\n    left: number,\n    width: number,\n    height?: number,\n}) => {\n    return Node('div', {\n        style: {\n            width: `${width}px`,\n            height: `${height ?? width}px`,\n            position: 'absolute',\n            top: `${top}px`,\n            left: `${left}px`,\n            backgroundColor: color,\n        },\n    });\n};\n","import * as LReact from './l_react';\nimport { GameComponent } from './pacman/index';\n\nconsole.log('hi i am in game land ', LReact);\n\nclass Peanut extends LReact.Component<{}, {}> {\n    render() {\n        return LReact.Node('div', {}, [\n            LReact.Text('wow - peanuts'),\n            LReact.Node(GameComponent, {}, []),\n        ]);\n    }\n}\n\nfunction Cool() {\n    return LReact.Node('div', {}, [\n        LReact.Text('hello there, my name is luke'),\n        LReact.Node(Peanut),\n    ]);\n};\n\n\n\nLReact.Init(LReact.Node(Cool), document.body);\n"]}